<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stop Fighting Wraparound: Embed Your Rings!</title>
    <style>
:root {
  /* Updated with Ceres logo color palette */
  --bg: #0a1a1f;
  --card: #10161d;
  --ink: #dbe2eb;
  --muted: #9fb0c6;
  --accent: #22d3ee; /* Cyan from logo */
  --accent2: #4ade80; /* Green from logo */
  --accent3: #ff7b7b;
  --warning: #ffb86c;
  --ceres-dark: #0a1a1f;
  --ceres-green: #4ade80;
  --ceres-cyan: #22d3ee;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html,
body {
  height: 100%;
  margin: 0;
  background: radial-gradient(
    1000px 800px at 70% 10%,
    #0e1420 0%,
    var(--bg) 60%
  );
  color: var(--ink);
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto,
    Inter, "Helvetica Neue", Arial, sans-serif;
  line-height: 1.35;
}

.slideshow-container {
  position: relative;
  width: 100%;
  height: 100vh;
  display: grid;
  grid-template-rows: 1fr auto;
}

#slide-content {
  padding: 56px 64px;
  background: radial-gradient(
      600px 400px at 10% 5%,
      rgba(112, 181, 255, 0.06),
      transparent 50%
    ),
    radial-gradient(
      700px 500px at 90% 0%,
      rgba(155, 255, 176, 0.05),
      transparent 60%
    );
  border-radius: 12px;
  margin: 20px;
  height: calc(100vh - 80px);
  overflow-y: auto;
  animation: fadeIn 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
  border: 1px solid rgba(255, 255, 255, 0.08);
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

h1 {
  font-size: 54px;
  font-weight: 750;
  letter-spacing: -0.02em;
  line-height: 1.1;
  color: var(--ink);
  margin-bottom: 30px;
  text-align: center;
}

h2 {
  font-size: 36px;
  font-weight: 700;
  letter-spacing: -0.01em;
  line-height: 1.1;
  color: var(--ink);
  margin: 30px 0 20px 0;
  border-left: 4px solid var(--accent);
  padding-left: 20px;
}

h3 {
  font-size: 22px;
  font-weight: 650;
  color: var(--muted);
  margin: 20px 0 15px 0;
}

h4 {
  font-size: 18px;
  font-weight: 600;
  color: var(--ink);
  margin: 15px 0 10px 0;
}

p,
li {
  font-size: 20px;
  color: #c9d6e5;
  line-height: 1.5;
}

.subtitle {
  text-align: center;
  color: var(--muted);
  font-size: 22px;
  margin-bottom: 40px;
}

.two-column {
  display: grid;
  grid-template-columns: 1.1fr 1fr;
  gap: 26px;
  align-items: start;
  margin: 30px 0;
}

.two-column-equal {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 26px;
  align-items: start;
  margin: 30px 0;
}

.two-column-equal img {
  width: 100%;
  height: auto;
  object-fit: contain;
}

.three-column {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 26px;
  margin: 30px 0;
}

.card,
.highlight-box,
.success-box,
.warning-box,
.info-box {
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.04),
    rgba(255, 255, 255, 0.02)
  );
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 16px;
  padding: 18px 20px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
  margin: 20px 0;
}

.highlight-box {
  border-left: 4px solid var(--accent3);
  background: linear-gradient(
    180deg,
    rgba(255, 123, 123, 0.08),
    rgba(255, 123, 123, 0.04)
  );
}

.success-box {
  border-left: 4px solid var(--accent2);
  background: linear-gradient(
    180deg,
    rgba(155, 255, 176, 0.08),
    rgba(155, 255, 176, 0.04)
  );
}

.warning-box {
  border-left: 4px solid var(--warning);
  background: linear-gradient(
    180deg,
    rgba(255, 184, 108, 0.08),
    rgba(255, 184, 108, 0.04)
  );
}

.info-box {
  border-left: 4px solid var(--accent);
  background: linear-gradient(
    180deg,
    rgba(112, 181, 255, 0.08),
    rgba(112, 181, 255, 0.04)
  );
}

ul,
ol {
  margin: 15px 0;
  padding-left: 30px;
}

ul.compact li {
  margin-bottom: 8px;
}

li {
  margin: 8px 0;
}

.metric {
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.07);
  padding: 16px;
  border-radius: 14px;
  margin: 10px 0;
  text-align: center;
}

.metric-value {
  font-size: 36px;
  font-weight: 800;
  color: var(--accent);
}

.metric-label {
  color: var(--muted);
  font-size: 14px;
  margin-top: 4px;
  letter-spacing: 0.06em;
  text-transform: uppercase;
}

.code-block {
  background: rgba(0, 0, 0, 0.4);
  color: var(--ink);
  padding: 20px;
  border-radius: 12px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", monospace;
  font-size: 16px;
  margin: 15px 0;
  overflow-x: auto;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.navigation {
  position: fixed;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1000;
  display: flex;
  gap: 8px;
}

.nav-button {
  background: rgba(255, 255, 255, 0.06);
  color: var(--ink);
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 10px;
  padding: 8px 12px;
  cursor: pointer;
  font-weight: 600;
  font-size: 1em;
  transition: all 0.3s;
}

.nav-button:hover {
  background: rgba(255, 255, 255, 0.12);
  transform: translateY(-2px);
}

.nav-button:disabled {
  background: rgba(255, 255, 255, 0.03);
  color: var(--muted);
  cursor: not-allowed;
  transform: none;
}

.nav-button:focus {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

.slide-counter {
  position: fixed;
  bottom: 30px;
  right: 30px;
  background: rgba(0, 0, 0, 0.5);
  color: var(--ink);
  padding: 10px 15px;
  border-radius: 20px;
  font-size: 14px;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.status-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
  margin: 20px 0;
}

.status-item {
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.04),
    rgba(255, 255, 255, 0.02)
  );
  border: 2px solid rgba(255, 255, 255, 0.08);
  border-radius: 16px;
  padding: 20px;
  text-align: center;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
}

.status-item.completed {
  border-color: var(--accent2);
  background: linear-gradient(
    180deg,
    rgba(155, 255, 176, 0.08),
    rgba(155, 255, 176, 0.04)
  );
}

.status-item.in-progress {
  border-color: var(--warning);
  background: linear-gradient(
    180deg,
    rgba(255, 184, 108, 0.08),
    rgba(255, 184, 108, 0.04)
  );
}

.status-item.critical {
  border-color: var(--accent3);
  background: linear-gradient(
    180deg,
    rgba(255, 123, 123, 0.08),
    rgba(255, 123, 123, 0.04)
  );
}

.timeline {
  position: relative;
  margin: 30px 0;
}

.timeline-item {
  margin: 20px 0;
  padding-left: 40px;
  position: relative;
}

.timeline-item::before {
  content: "";
  position: absolute;
  left: 15px;
  top: 8px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: var(--accent);
}

.timeline-item::after {
  content: "";
  position: absolute;
  left: 20px;
  top: 20px;
  width: 2px;
  height: calc(100% + 10px);
  background: rgba(255, 255, 255, 0.1);
}

.timeline-item:last-child::after {
  display: none;
}

.process-flow {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin: 30px 0;
  flex-wrap: wrap;
}

.process-step {
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 16px;
  padding: 20px;
  margin: 10px;
  text-align: center;
  flex: 1;
  min-width: 200px;
  position: relative;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

.process-step::after {
  content: "→";
  position: absolute;
  right: -25px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 2em;
  color: var(--accent);
}

.process-step:last-child::after {
  display: none;
}

.mask-example {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: 20px;
  margin: 20px 0;
  align-items: center;
}

.mask-box {
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.08);
  padding: 20px;
  border-radius: 12px;
  text-align: center;
}

.operation {
  font-size: 2em;
  color: var(--accent);
  font-weight: bold;
}

.badge {
  padding: 3px 8px;
  border-radius: 999px;
  font-size: 12px;
  color: #0a1422;
  background: linear-gradient(90deg, var(--accent), var(--accent2));
  font-weight: 700;
  display: inline-block;
}

.mono {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", monospace;
  font-size: 16px;
}

.kpi {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 16px;
}

.kpi .stat {
  text-align: center;
  padding: 16px;
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.07);
}

.kpi .num {
  font-size: 36px;
  font-weight: 800;
  color: var(--accent);
}

.kpi .label {
  font-size: 14px;
  color: var(--muted);
  margin-top: 4px;
  letter-spacing: 0.06em;
  text-transform: uppercase;
}

/* Operation list styles for slide 4 */
.operation-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin: 15px 0;
}

.op-item {
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 8px;
  padding: 12px 16px;
  transition: all 0.2s ease;
}

.op-item:hover {
  background: rgba(255, 255, 255, 0.04);
  border-color: rgba(255, 255, 255, 0.12);
}

.op-item strong {
  color: var(--accent);
  font-weight: 650;
}

.op-item small {
  color: var(--muted);
  font-size: 14px;
  margin-top: 4px;
  display: block;
}

.code-example {
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 12px;
  padding: 20px;
  margin: 15px 0;
}

.formula-showcase {
  text-align: center;
  background: rgba(255, 255, 255, 0.02);
  padding: 16px;
  border-radius: 10px;
  margin: 15px 0;
  border: 1px solid rgba(255, 255, 255, 0.06);
}

.formula-showcase code {
  font-size: 18px;
  font-weight: 600;
  color: var(--accent);
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", monospace;
}

/* Scrollbar styling for dark theme */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* Title slide specific styles */
.title-slide {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100vh;
  background: linear-gradient(135deg, var(--ceres-dark) 0%, #1a2f33 100%);
  color: white;
  padding: 2em;
  position: relative;
}

.logo-container {
  margin-bottom: 2em;
  animation: fadeInScale 0.8s ease-out;
}

.title-logo {
  width: 200px;
  height: auto;
  filter: drop-shadow(0 10px 30px rgba(34, 211, 238, 0.3));
}

@keyframes fadeInScale {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.main-title {
  font-size: 3.5em;
  margin-bottom: 0.2em;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
  background: linear-gradient(90deg, var(--ceres-green), var(--ceres-cyan));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.visual-element {
  margin: 2em 0;
}

.presenter-info {
  margin-top: 2em;
  text-align: center;
}

.presenter-info p {
  margin: 0.5em 0;
  font-size: 1.2em;
}

.company-branding {
  margin: 1em 0;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.1em;
}

.Ceres-logo {
  font-size: 2.2em;
  font-weight: 700;
  color: #4caf50;
  letter-spacing: 0.05em;
  text-shadow: 0 2px 4px rgba(76, 175, 80, 0.3);
}

.Ceres-ai {
  font-size: 2.2em;
  font-weight: 300;
  color: #70b5ff;
  letter-spacing: 0.05em;
  text-shadow: 0 2px 4px rgba(112, 181, 255, 0.3);
}

.presenter-info .date {
  font-size: 2em;
  font-weight: 300;
  margin-bottom: 1em;
}

/* Common visual demo styles */
.visual-demo {
  display: flex;
  justify-content: center;
  margin: 2em 0;
}

.code-comparison {
  display: flex;
  gap: 1em;
  margin: 1em 0;
}

.clock-visual {
  margin: 2em 0;
  display: flex;
  justify-content: center;
}

/* Interactive demo styles */
.demo-container {
  display: flex;
  gap: 2em;
  align-items: flex-start;
  margin: 2em 0;
}

.demo-section {
  flex: 2;
}

.code-section {
  flex: 1;
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 12px;
  padding: 20px;
}

.angle-inputs {
  display: flex;
  flex-direction: column;
  gap: 15px;
  margin: 20px 0;
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 12px;
  padding: 20px;
}

.angle-inputs label {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 16px;
  color: var(--ink);
}

.angle-inputs input[type="range"] {
  flex: 1;
  margin: 0 15px;
  appearance: none;
  height: 6px;
  border-radius: 3px;
  background: rgba(255, 255, 255, 0.1);
  outline: none;
}

.angle-inputs input[type="range"]::-webkit-slider-thumb {
  appearance: none;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--accent);
  cursor: pointer;
}

.angle-inputs input[type="range"]::-moz-range-thumb {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--accent);
  cursor: pointer;
  border: none;
}

.angle-inputs span {
  min-width: 50px;
  font-weight: 600;
  color: var(--accent);
}

.demo-visual {
  display: flex;
  justify-content: center;
  margin: 20px 0;
  background: rgba(255, 255, 255, 0.01);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 12px;
  padding: 20px;
}

.demo-results {
  display: flex;
  gap: 20px;
  justify-content: center;
  margin: 20px 0;
}

.result {
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 12px;
  padding: 15px 20px;
  text-align: center;
  min-width: 140px;
}

.wrong-result {
  border-left: 4px solid var(--accent3);
}

.correct-result {
  border-left: 4px solid var(--accent2);
}

.result h4 {
  margin: 0 0 10px 0;
  font-size: 16px;
}

.result p {
  margin: 0;
  font-size: 24px;
  font-weight: 700;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", monospace;
}

.wrong-result p {
  color: var(--accent3);
}

.correct-result p {
  color: var(--accent2);
}

/* Print styles */
@media print {
  body {
    background: white;
    color: #111;
  }

  #slide-content {
    background: white;
    color: #111;
    border: none;
    box-shadow: none;
    page-break-after: always;
  }

  .navigation,
  .slide-counter {
    display: none !important;
  }

  h1,
  h2,
  h3,
  p,
  li {
    color: #111;
  }

  .card,
  .highlight-box,
  .success-box,
  .warning-box,
  .info-box,
  .status-item {
    background: #fff;
    border: 1px solid #e5e7eb;
    box-shadow: none;
    color: #111;
  }
}

/* Visual comparison layout for robot heading diagrams */
.visual-comparison {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  gap: 2em;
  margin: 2em 0;
  flex-wrap: wrap;
}

.visual-comparison .approach {
  flex: 1;
  max-width: 500px;
  text-align: center;
}

.visual-comparison svg {
  margin: 0 auto;
  display: block;
}

.text-center {
  text-align: center;
}

    </style>
    
</head>
<body>
    <div class="slideshow-container">
        <div id="slide-content">
            <!-- Slides loaded by JavaScript -->
        </div>
    </div>

    <div class="navigation">
        <button class="nav-button" onclick="previousSlide()">◀ Previous</button>
        <button class="nav-button" onclick="nextSlide()">Next ▶</button>
    </div>

    <div class="slide-counter">
        <span id="current-slide">1</span> / <span id="total-slides">15</span>
    </div>

    <script>
// Embedded JSON data for 3D visualizations
const embeddedPlotlyDataString = "{\"A\":{\"x\":[[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92]],\"y\":[[20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0],[25.0,25.0,25.0,25.0,25.0,25.0,25.0,25.0,25.0,25.0,25.0,25.0,25.0,25.0,25.0,25.0],[30.0,30.0,30.0,30.0,30.0,30.0,30.0,30.0,30.0,30.0,30.0,30.0,30.0,30.0,30.0,30.0],[35.0,35.0,35.0,35.0,35.0,35.0,35.0,35.0,35.0,35.0,35.0,35.0,35.0,35.0,35.0,35.0],[40.0,40.0,40.0,40.0,40.0,40.0,40.0,40.0,40.0,40.0,40.0,40.0,40.0,40.0,40.0,40.0],[45.0,45.0,45.0,45.0,45.0,45.0,45.0,45.0,45.0,45.0,45.0,45.0,45.0,45.0,45.0,45.0],[50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0],[55.0,55.0,55.0,55.0,55.0,55.0,55.0,55.0,55.0,55.0,55.0,55.0,55.0,55.0,55.0,55.0],[60.0,60.0,60.0,60.0,60.0,60.0,60.0,60.0,60.0,60.0,60.0,60.0,60.0,60.0,60.0,60.0],[65.0,65.0,65.0,65.0,65.0,65.0,65.0,65.0,65.0,65.0,65.0,65.0,65.0,65.0,65.0,65.0],[70.0,70.0,70.0,70.0,70.0,70.0,70.0,70.0,70.0,70.0,70.0,70.0,70.0,70.0,70.0,70.0],[75.0,75.0,75.0,75.0,75.0,75.0,75.0,75.0,75.0,75.0,75.0,75.0,75.0,75.0,75.0,75.0],[80.0,80.0,80.0,80.0,80.0,80.0,80.0,80.0,80.0,80.0,80.0,80.0,80.0,80.0,80.0,80.0],[85.0,85.0,85.0,85.0,85.0,85.0,85.0,85.0,85.0,85.0,85.0,85.0,85.0,85.0,85.0,85.0],[90.0,90.0,90.0,90.0,90.0,90.0,90.0,90.0,90.0,90.0,90.0,90.0,90.0,90.0,90.0,90.0],[95.0,95.0,95.0,95.0,95.0,95.0,95.0,95.0,95.0,95.0,95.0,95.0,95.0,95.0,95.0,95.0]],\"z\":[[83.1506482757469,83.1506482757469,83.1506482757469,83.1506482757469,83.1506482757469,83.1506482757469,83.1506482757469,83.1506482757469,83.14922078570936,83.14922078570936,82.98290472944957,82.9808038950547,81.95983877981384,70.94081424301079,30.537055419337992,0.0],[82.8577165465353,82.8577165465353,82.8577165465353,82.8577165465353,82.8577165465353,82.8577165465353,82.8577165465353,82.8577165465353,82.8577165465353,82.8577165465353,82.73945034361437,82.68643120891842,81.7010994770673,70.03872134061245,30.537055419337992,0.0],[82.78898155453935,82.78898155453935,82.78898155453935,82.78898155453935,82.78898155453935,82.78898155453935,82.78898155453935,82.78898155453935,82.78898155453935,82.78898155453935,82.67071535161841,82.65860862007366,81.67280554717242,70.03872134061245,30.537055419337992,0.0],[82.47302144830715,82.47302144830715,82.47302144830715,82.47302144830715,82.47302144830715,82.47302144830715,82.47302144830715,82.47302144830715,82.47302144830715,82.47302144830715,82.35475524538622,82.35265441099135,81.20857501345678,69.95239859400311,30.537055419337992,0.0],[81.48860546478201,81.48860546478201,81.48860546478201,81.48860546478201,81.48860546478201,81.48860546478201,81.48860546478201,81.48860546478201,81.48860546478201,81.48860546478201,81.37033926186106,81.3682384274662,80.16992787539252,69.95239859400311,30.537055419337992,0.0],[80.99004783572983,80.99004783572983,80.99004783572983,80.99004783572983,80.99004783572983,80.99004783572983,80.99004783572983,80.99004783572983,80.99004783572983,80.99004783572983,80.87178163280889,80.86968079841404,79.8754339872719,69.95239859400311,30.537055419337992,0.0],[80.7071220036681,80.7071220036681,80.7071220036681,80.7071220036681,80.7071220036681,80.7071220036681,80.7071220036681,80.7071220036681,80.7071220036681,80.7071220036681,80.58885580074717,80.58675496635232,79.59250815521018,69.95239859400311,30.537055419337992,0.0],[79.79207395583481,79.79207395583481,79.79207395583481,79.79207395583481,79.79207395583481,79.79207395583481,79.79207395583481,79.79207395583481,79.79207395583481,79.79207395583481,79.67380775291386,79.671706918519,78.6676292797599,69.59000466088963,30.537055419337992,0.0],[79.75339705594993,79.75339705594993,79.75339705594993,79.75339705594993,79.75339705594993,79.75339705594993,79.75339705594993,79.75339705594993,79.75339705594993,79.75339705594993,79.635130853029,79.63303001863413,78.6370729128244,69.59000466088963,30.537055419337992,0.0],[79.16477288566168,79.16477288566168,79.16477288566168,79.16477288566168,79.16477288566168,79.16477288566168,79.16477288566168,79.16477288566168,79.16477288566168,79.16477288566168,79.04650668274074,79.04440584834587,78.02392554104229,69.54602180746903,30.537055419337992,0.0],[78.08611562588503,78.08611562588503,78.08611562588503,78.08611562588503,78.08611562588503,78.08611562588503,78.08611562588503,78.08611562588503,78.08611562588503,78.08611562588503,77.48290681681708,77.48080598242221,76.5837227620424,66.82651861709613,30.488709294481904,0.0],[74.7260868821611,74.7260868821611,74.7260868821611,74.7260868821611,74.7260868821611,74.7260868821611,74.7260868821611,74.7260868821611,74.7260868821611,74.7260868821611,74.32850397293372,74.32640313853885,73.65498454607365,63.24073097724756,30.443527888105248,0.0],[63.64069752549989,63.64069752549989,63.64069752549989,63.64069752549989,63.64069752549989,63.64069752549989,63.64069752549989,63.64069752549989,63.64069752549989,63.64069752549989,63.400677195887056,63.39822622242638,63.05852399415484,54.32236576577232,27.958106130113563,0.0],[60.87901604458401,60.87901604458401,60.87901604458401,60.87901604458401,60.87901604458401,60.87901604458401,60.87901604458401,60.87901604458401,60.87901604458401,60.87901604458401,60.60643278185084,60.60365860309865,59.92592404056173,51.439186029020334,26.72012212850615,0.0],[56.64921492761346,56.64921492761346,56.64921492761346,56.64921492761346,56.64921492761346,56.64921492761346,56.64921492761346,56.64921492761346,56.64921492761346,56.64921492761346,56.35853216855533,56.355757989803145,55.30406143809387,43.56515098198521,25.867493102597077,0.0],[51.40498013566811,51.40498013566811,51.40498013566811,51.40498013566811,51.40498013566811,51.40498013566811,51.40498013566811,51.40498013566811,51.40498013566811,51.40498013566811,51.11429737660998,51.110472780660366,49.23282510647931,37.677602991049504,22.880133526879433,0.0]],\"x_label\":\"Combined Score Threshold\",\"y_label\":\"Overlap Percentage Threshold (%)\",\"z_label\":\"Mosaic Coverage (%)\",\"title\":\"Mosaic A: 3D Threshold Analysis\",\"subtitle\":\"Z-axis shows % of mosaic covered by \\u22658 registered images (computed at 1/2 resolution)\",\"stats\":{\"max_coverage\":83.1506482757469,\"min_coverage\":0.0,\"mean_coverage\":66.56835276175892},\"optimal\":{\"overlap\":20.0,\"score\":0.65,\"coverage\":83.1506482757469}},\"B\":{\"x\":[[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92],[0.65,0.668,0.686,0.7040000000000001,0.722,0.74,0.758,0.776,0.794,0.812,0.8300000000000001,0.8480000000000001,0.8660000000000001,0.8840000000000001,0.902,0.92]],\"y\":[[20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0,20.0],[25.0,25.0,25.0,25.0,25.0,25.0,25.0,25.0,25.0,25.0,25.0,25.0,25.0,25.0,25.0,25.0],[30.0,30.0,30.0,30.0,30.0,30.0,30.0,30.0,30.0,30.0,30.0,30.0,30.0,30.0,30.0,30.0],[35.0,35.0,35.0,35.0,35.0,35.0,35.0,35.0,35.0,35.0,35.0,35.0,35.0,35.0,35.0,35.0],[40.0,40.0,40.0,40.0,40.0,40.0,40.0,40.0,40.0,40.0,40.0,40.0,40.0,40.0,40.0,40.0],[45.0,45.0,45.0,45.0,45.0,45.0,45.0,45.0,45.0,45.0,45.0,45.0,45.0,45.0,45.0,45.0],[50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0,50.0],[55.0,55.0,55.0,55.0,55.0,55.0,55.0,55.0,55.0,55.0,55.0,55.0,55.0,55.0,55.0,55.0],[60.0,60.0,60.0,60.0,60.0,60.0,60.0,60.0,60.0,60.0,60.0,60.0,60.0,60.0,60.0,60.0],[65.0,65.0,65.0,65.0,65.0,65.0,65.0,65.0,65.0,65.0,65.0,65.0,65.0,65.0,65.0,65.0],[70.0,70.0,70.0,70.0,70.0,70.0,70.0,70.0,70.0,70.0,70.0,70.0,70.0,70.0,70.0,70.0],[75.0,75.0,75.0,75.0,75.0,75.0,75.0,75.0,75.0,75.0,75.0,75.0,75.0,75.0,75.0,75.0],[80.0,80.0,80.0,80.0,80.0,80.0,80.0,80.0,80.0,80.0,80.0,80.0,80.0,80.0,80.0,80.0],[85.0,85.0,85.0,85.0,85.0,85.0,85.0,85.0,85.0,85.0,85.0,85.0,85.0,85.0,85.0,85.0],[90.0,90.0,90.0,90.0,90.0,90.0,90.0,90.0,90.0,90.0,90.0,90.0,90.0,90.0,90.0,90.0],[95.0,95.0,95.0,95.0,95.0,95.0,95.0,95.0,95.0,95.0,95.0,95.0,95.0,95.0,95.0,95.0]],\"z\":[[83.84645976678208,83.84645976678208,83.84645976678208,83.84645976678208,83.84645976678208,83.84645976678208,83.8156016860217,83.80348124374026,83.80348124374026,83.32272032603159,82.75003358476462,81.51978375401853,69.75108369057325,62.897480677122054,19.110495870736564,0.0],[83.79229186424041,83.79229186424041,83.79229186424041,83.79229186424041,83.79229186424041,83.79229186424041,83.79229186424041,83.78308099315137,83.78308099315137,83.28276775702986,82.74192003766814,81.51978375401853,69.75108369057325,62.897480677122054,19.110495870736564,0.0],[83.76412721509811,83.76412721509811,83.76412721509811,83.76412721509811,83.76412721509811,83.76412721509811,83.76412721509811,83.76412721509811,83.76412721509811,83.28276775702986,82.74192003766814,81.51978375401853,69.75108369057325,62.897480677122054,19.110495870736564,0.0],[83.6016900119575,83.6016900119575,83.6016900119575,83.6016900119575,83.6016900119575,83.6016900119575,83.6016900119575,83.6016900119575,83.6016900119575,83.13851953037194,82.58950838555043,81.36737210190084,69.44637676918555,62.897480677122054,19.110495870736564,0.0],[82.84940791057541,82.84940791057541,82.84940791057541,82.84940791057541,82.84940791057541,82.84940791057541,82.84940791057541,82.84940791057541,82.84415405630801,82.42219972892772,81.87847569061582,80.9641221607573,69.26606648586315,62.30279757764065,19.110495870736564,0.0],[82.72602546589717,82.72602546589717,82.72602546589717,82.72602546589717,82.72602546589717,82.72602546589717,82.72602546589717,82.72602546589717,82.72083811611417,82.29459424949025,81.76345618485055,80.6568215644781,67.89118602767384,62.30279757764065,19.110495870736564,0.0],[82.43694709834284,82.43694709834284,82.43694709834284,82.43694709834284,82.43694709834284,82.43694709834284,82.43694709834284,82.43694709834284,82.42747020931621,82.00551588193592,81.47163450731483,79.71019673356574,67.84167343904,62.30279757764065,19.110495870736564,0.0],[81.21665631413526,81.21665631413526,81.21665631413526,81.21665631413526,81.21665631413526,81.21665631413526,81.21665631413526,81.21665631413526,81.21665631413526,80.79470198675497,80.26602458803798,79.37268647524903,67.53510439208917,62.008581738666635,19.110495870736564,0.0],[81.05185820179854,81.05185820179854,81.05185820179854,81.05185820179854,81.05185820179854,81.05185820179854,81.05185820179854,81.05185820179854,81.05185820179854,80.62990387441825,80.1053331276128,79.25372657878322,67.50895150359989,61.961928842861866,19.110495870736564,0.0],[80.22100105210095,80.22100105210095,80.22100105210095,80.22100105210095,80.22100105210095,80.22100105210095,80.22100105210095,80.22100105210095,80.22100105210095,79.79904672472064,79.27447597791519,78.47042013542973,66.96684019903462,61.69231966311488,19.110495870736564,0.0],[78.76797782474472,78.76797782474472,78.76797782474472,78.76797782474472,78.76797782474472,78.76797782474472,78.76797782474472,78.76797782474472,78.76797782474472,78.34602349736443,77.82145275055898,76.99370468550694,65.39056753596894,60.69962385063625,19.110495870736564,0.0],[77.94014662908721,77.94014662908721,77.94014662908721,77.94014662908721,77.94014662908721,77.94014662908721,77.94014662908721,77.94014662908721,77.94014662908721,77.5181923017069,76.99362155490145,76.15933942425738,64.69684263309875,59.438432808524276,19.110495870736564,0.0],[77.787651846364,77.787651846364,77.787651846364,77.787651846364,77.787651846364,77.787651846364,77.787651846364,77.787651846364,77.787651846364,77.3656975189837,76.84112677217824,76.03707092969279,64.57204696812707,59.298241355414596,18.39274622287781,0.0],[75.1448467670175,75.1448467670175,75.1448467670175,75.1448467670175,75.1448467670175,75.1448467670175,75.1448467670175,75.1448467670175,75.1448467670175,74.71426348278665,74.19035778082515,73.38540412780034,61.89996328952462,57.224781166994084,16.53971514799243,0.0],[72.58510578868334,72.58510578868334,72.58510578868334,72.58510578868334,72.58510578868334,72.58510578868334,72.58510578868334,72.58510578868334,72.58510578868334,72.16810604539064,71.67627213102979,68.32401383825312,59.63443815016447,54.25590460064722,6.050079206840917,0.0],[66.70699055237294,66.70699055237294,66.70699055237294,66.70699055237294,66.70699055237294,66.70699055237294,66.70699055237294,66.70699055237294,66.70699055237294,66.28947539932618,64.62101089476462,62.960543554451874,56.74259040287086,50.64371353060337,0.0,0.0]],\"x_label\":\"Combined Score Threshold\",\"y_label\":\"Overlap Percentage Threshold (%)\",\"z_label\":\"Mosaic Coverage (%)\",\"title\":\"Mosaic B: 3D Threshold Analysis\",\"subtitle\":\"Z-axis shows % of mosaic covered by \\u22658 registered images (computed at 1/2 resolution)\",\"stats\":{\"max_coverage\":83.84645976678208,\"min_coverage\":0.0,\"mean_coverage\":68.46792824357334},\"optimal\":{\"overlap\":20.0,\"score\":0.65,\"coverage\":83.84645976678208}}}";
const embeddedHeatmapDataString = "{\"A\":{\"data\":[[83.1506482757469,83.1506482757469,83.1506482757469,83.1506482757469,83.1506482757469,83.1506482757469,83.1506482757469,83.1506482757469,83.14922078570936,83.14922078570936,82.98290472944957,82.9808038950547,81.95983877981384,70.94081424301079,30.537055419337992,0.0],[82.8577165465353,82.8577165465353,82.8577165465353,82.8577165465353,82.8577165465353,82.8577165465353,82.8577165465353,82.8577165465353,82.8577165465353,82.8577165465353,82.73945034361437,82.68643120891842,81.7010994770673,70.03872134061245,30.537055419337992,0.0],[82.78898155453935,82.78898155453935,82.78898155453935,82.78898155453935,82.78898155453935,82.78898155453935,82.78898155453935,82.78898155453935,82.78898155453935,82.78898155453935,82.67071535161841,82.65860862007366,81.67280554717242,70.03872134061245,30.537055419337992,0.0],[82.47302144830715,82.47302144830715,82.47302144830715,82.47302144830715,82.47302144830715,82.47302144830715,82.47302144830715,82.47302144830715,82.47302144830715,82.47302144830715,82.35475524538622,82.35265441099135,81.20857501345678,69.95239859400311,30.537055419337992,0.0],[81.48860546478201,81.48860546478201,81.48860546478201,81.48860546478201,81.48860546478201,81.48860546478201,81.48860546478201,81.48860546478201,81.48860546478201,81.48860546478201,81.37033926186106,81.3682384274662,80.16992787539252,69.95239859400311,30.537055419337992,0.0],[80.99004783572983,80.99004783572983,80.99004783572983,80.99004783572983,80.99004783572983,80.99004783572983,80.99004783572983,80.99004783572983,80.99004783572983,80.99004783572983,80.87178163280889,80.86968079841404,79.8754339872719,69.95239859400311,30.537055419337992,0.0],[80.7071220036681,80.7071220036681,80.7071220036681,80.7071220036681,80.7071220036681,80.7071220036681,80.7071220036681,80.7071220036681,80.7071220036681,80.7071220036681,80.58885580074717,80.58675496635232,79.59250815521018,69.95239859400311,30.537055419337992,0.0],[79.79207395583481,79.79207395583481,79.79207395583481,79.79207395583481,79.79207395583481,79.79207395583481,79.79207395583481,79.79207395583481,79.79207395583481,79.79207395583481,79.67380775291386,79.671706918519,78.6676292797599,69.59000466088963,30.537055419337992,0.0],[79.75339705594993,79.75339705594993,79.75339705594993,79.75339705594993,79.75339705594993,79.75339705594993,79.75339705594993,79.75339705594993,79.75339705594993,79.75339705594993,79.635130853029,79.63303001863413,78.6370729128244,69.59000466088963,30.537055419337992,0.0],[79.16477288566168,79.16477288566168,79.16477288566168,79.16477288566168,79.16477288566168,79.16477288566168,79.16477288566168,79.16477288566168,79.16477288566168,79.16477288566168,79.04650668274074,79.04440584834587,78.02392554104229,69.54602180746903,30.537055419337992,0.0],[78.08611562588503,78.08611562588503,78.08611562588503,78.08611562588503,78.08611562588503,78.08611562588503,78.08611562588503,78.08611562588503,78.08611562588503,78.08611562588503,77.48290681681708,77.48080598242221,76.5837227620424,66.82651861709613,30.488709294481904,0.0],[74.7260868821611,74.7260868821611,74.7260868821611,74.7260868821611,74.7260868821611,74.7260868821611,74.7260868821611,74.7260868821611,74.7260868821611,74.7260868821611,74.32850397293372,74.32640313853885,73.65498454607365,63.24073097724756,30.443527888105248,0.0],[63.64069752549989,63.64069752549989,63.64069752549989,63.64069752549989,63.64069752549989,63.64069752549989,63.64069752549989,63.64069752549989,63.64069752549989,63.64069752549989,63.400677195887056,63.39822622242638,63.05852399415484,54.32236576577232,27.958106130113563,0.0],[60.87901604458401,60.87901604458401,60.87901604458401,60.87901604458401,60.87901604458401,60.87901604458401,60.87901604458401,60.87901604458401,60.87901604458401,60.87901604458401,60.60643278185084,60.60365860309865,59.92592404056173,51.439186029020334,26.72012212850615,0.0],[56.64921492761346,56.64921492761346,56.64921492761346,56.64921492761346,56.64921492761346,56.64921492761346,56.64921492761346,56.64921492761346,56.64921492761346,56.64921492761346,56.35853216855533,56.355757989803145,55.30406143809387,43.56515098198521,25.867493102597077,0.0],[51.40498013566811,51.40498013566811,51.40498013566811,51.40498013566811,51.40498013566811,51.40498013566811,51.40498013566811,51.40498013566811,51.40498013566811,51.40498013566811,51.11429737660998,51.110472780660366,49.23282510647931,37.677602991049504,22.880133526879433,0.0]],\"x_labels\":[\"0.650\",\"0.668\",\"0.686\",\"0.704\",\"0.722\",\"0.740\",\"0.758\",\"0.776\",\"0.794\",\"0.812\",\"0.830\",\"0.848\",\"0.866\",\"0.884\",\"0.902\",\"0.920\"],\"y_labels\":[\"20.0%\",\"25.0%\",\"30.0%\",\"35.0%\",\"40.0%\",\"45.0%\",\"50.0%\",\"55.0%\",\"60.0%\",\"65.0%\",\"70.0%\",\"75.0%\",\"80.0%\",\"85.0%\",\"90.0%\",\"95.0%\"],\"title\":\"Mosaic A Coverage Heatmap\"},\"B\":{\"data\":[[83.84645976678208,83.84645976678208,83.84645976678208,83.84645976678208,83.84645976678208,83.84645976678208,83.8156016860217,83.80348124374026,83.80348124374026,83.32272032603159,82.75003358476462,81.51978375401853,69.75108369057325,62.897480677122054,19.110495870736564,0.0],[83.79229186424041,83.79229186424041,83.79229186424041,83.79229186424041,83.79229186424041,83.79229186424041,83.79229186424041,83.78308099315137,83.78308099315137,83.28276775702986,82.74192003766814,81.51978375401853,69.75108369057325,62.897480677122054,19.110495870736564,0.0],[83.76412721509811,83.76412721509811,83.76412721509811,83.76412721509811,83.76412721509811,83.76412721509811,83.76412721509811,83.76412721509811,83.76412721509811,83.28276775702986,82.74192003766814,81.51978375401853,69.75108369057325,62.897480677122054,19.110495870736564,0.0],[83.6016900119575,83.6016900119575,83.6016900119575,83.6016900119575,83.6016900119575,83.6016900119575,83.6016900119575,83.6016900119575,83.6016900119575,83.13851953037194,82.58950838555043,81.36737210190084,69.44637676918555,62.897480677122054,19.110495870736564,0.0],[82.84940791057541,82.84940791057541,82.84940791057541,82.84940791057541,82.84940791057541,82.84940791057541,82.84940791057541,82.84940791057541,82.84415405630801,82.42219972892772,81.87847569061582,80.9641221607573,69.26606648586315,62.30279757764065,19.110495870736564,0.0],[82.72602546589717,82.72602546589717,82.72602546589717,82.72602546589717,82.72602546589717,82.72602546589717,82.72602546589717,82.72602546589717,82.72083811611417,82.29459424949025,81.76345618485055,80.6568215644781,67.89118602767384,62.30279757764065,19.110495870736564,0.0],[82.43694709834284,82.43694709834284,82.43694709834284,82.43694709834284,82.43694709834284,82.43694709834284,82.43694709834284,82.43694709834284,82.42747020931621,82.00551588193592,81.47163450731483,79.71019673356574,67.84167343904,62.30279757764065,19.110495870736564,0.0],[81.21665631413526,81.21665631413526,81.21665631413526,81.21665631413526,81.21665631413526,81.21665631413526,81.21665631413526,81.21665631413526,81.21665631413526,80.79470198675497,80.26602458803798,79.37268647524903,67.53510439208917,62.008581738666635,19.110495870736564,0.0],[81.05185820179854,81.05185820179854,81.05185820179854,81.05185820179854,81.05185820179854,81.05185820179854,81.05185820179854,81.05185820179854,81.05185820179854,80.62990387441825,80.1053331276128,79.25372657878322,67.50895150359989,61.961928842861866,19.110495870736564,0.0],[80.22100105210095,80.22100105210095,80.22100105210095,80.22100105210095,80.22100105210095,80.22100105210095,80.22100105210095,80.22100105210095,80.22100105210095,79.79904672472064,79.27447597791519,78.47042013542973,66.96684019903462,61.69231966311488,19.110495870736564,0.0],[78.76797782474472,78.76797782474472,78.76797782474472,78.76797782474472,78.76797782474472,78.76797782474472,78.76797782474472,78.76797782474472,78.76797782474472,78.34602349736443,77.82145275055898,76.99370468550694,65.39056753596894,60.69962385063625,19.110495870736564,0.0],[77.94014662908721,77.94014662908721,77.94014662908721,77.94014662908721,77.94014662908721,77.94014662908721,77.94014662908721,77.94014662908721,77.94014662908721,77.5181923017069,76.99362155490145,76.15933942425738,64.69684263309875,59.438432808524276,19.110495870736564,0.0],[77.787651846364,77.787651846364,77.787651846364,77.787651846364,77.787651846364,77.787651846364,77.787651846364,77.787651846364,77.787651846364,77.3656975189837,76.84112677217824,76.03707092969279,64.57204696812707,59.298241355414596,18.39274622287781,0.0],[75.1448467670175,75.1448467670175,75.1448467670175,75.1448467670175,75.1448467670175,75.1448467670175,75.1448467670175,75.1448467670175,75.1448467670175,74.71426348278665,74.19035778082515,73.38540412780034,61.89996328952462,57.224781166994084,16.53971514799243,0.0],[72.58510578868334,72.58510578868334,72.58510578868334,72.58510578868334,72.58510578868334,72.58510578868334,72.58510578868334,72.58510578868334,72.58510578868334,72.16810604539064,71.67627213102979,68.32401383825312,59.63443815016447,54.25590460064722,6.050079206840917,0.0],[66.70699055237294,66.70699055237294,66.70699055237294,66.70699055237294,66.70699055237294,66.70699055237294,66.70699055237294,66.70699055237294,66.70699055237294,66.28947539932618,64.62101089476462,62.960543554451874,56.74259040287086,50.64371353060337,0.0,0.0]],\"x_labels\":[\"0.650\",\"0.668\",\"0.686\",\"0.704\",\"0.722\",\"0.740\",\"0.758\",\"0.776\",\"0.794\",\"0.812\",\"0.830\",\"0.848\",\"0.866\",\"0.884\",\"0.902\",\"0.920\"],\"y_labels\":[\"20.0%\",\"25.0%\",\"30.0%\",\"35.0%\",\"40.0%\",\"45.0%\",\"50.0%\",\"55.0%\",\"60.0%\",\"65.0%\",\"70.0%\",\"75.0%\",\"80.0%\",\"85.0%\",\"90.0%\",\"95.0%\"],\"title\":\"Mosaic B Coverage Heatmap\"}}";

// Parse the JSON strings into JavaScript objects
const embeddedPlotlyData = embeddedPlotlyDataString ? JSON.parse(embeddedPlotlyDataString) : null;
const embeddedHeatmapData = embeddedHeatmapDataString ? JSON.parse(embeddedHeatmapDataString) : null;

// Global Plotly variables - moved from slide to prevent redeclaration errors
let plotlyData = null;
let heatmapData = null;
let currentMosaic = 'A';
let currentView = '3d'; // '3d' or 'heatmap'

// Initialize Plotly data globally
function initializePlotlyData() {
    if (typeof embeddedPlotlyData !== 'undefined' && embeddedPlotlyData !== null &&
        typeof embeddedHeatmapData !== 'undefined' && embeddedHeatmapData !== null) {
        // Use embedded data from parent presentation
        plotlyData = embeddedPlotlyData;
        heatmapData = embeddedHeatmapData;
        return true;
    } else {
        // Fallback to fetching (for standalone testing)
        Promise.all([
            fetch('./threshold_data_plotly.json').then(r => r.json()),
            fetch('./threshold_data_heatmap.json').then(r => r.json())
        ]).then(([plotly, heatmap]) => {
            plotlyData = plotly;
            heatmapData = heatmap;
        }).catch(err => {
            console.error('Error loading Plotly data:', err);
        });
        return false;
    }
}

// Initialize data when DOM is ready
document.addEventListener('DOMContentLoaded', function() {
    initializePlotlyData();
});

// Make data available globally for slides to access
window.plotlyData = embeddedPlotlyData;
window.heatmapData = embeddedHeatmapData;


const slidesData = [{"content":"<div class=\"slide title-slide\">\n  <div class=\"logo-container\">\n    <img src=\"../ceres-tech-logo.png\" alt=\"Ceres AI Logo\" class=\"title-logo\">\n  </div>\n  <h1 class=\"main-title\">Stop Fighting Wraparound</h1>\n  <h2 class=\"subtitle\">Embed Your Rings!</h2>\n\n  <div class=\"visual-element\">\n    <svg width=\"400\" height=\"200\" viewBox=\"0 0 400 200\">\n      <!-- Circle representing wraparound -->\n      <circle\n        cx=\"100\"\n        cy=\"100\"\n        r=\"80\"\n        fill=\"none\"\n        stroke=\"#4CAF50\"\n        stroke-width=\"3\"\n      />\n\n      <!-- Points near wraparound -->\n      <circle cx=\"170\" cy=\"100\" r=\"8\" fill=\"#FF5722\" />\n      <circle cx=\"30\" cy=\"100\" r=\"8\" fill=\"#2196F3\" />\n\n      <!-- Arrow showing \"wrong\" linear distance -->\n      <path\n        d=\"M 170 100 L 30 100\"\n        stroke=\"#FF5722\"\n        stroke-width=\"2\"\n        stroke-dasharray=\"5,5\"\n        opacity=\"0.5\"\n      />\n      <text x=\"100\" y=\"90\" text-anchor=\"middle\" fill=\"#FF5722\" font-size=\"14\">\n        140° apart?\n      </text>\n\n      <!-- Arrow showing correct arc distance -->\n      <path\n        d=\"M 170 100 A 80 80 0 0 0 30 100\"\n        fill=\"none\"\n        stroke=\"#4CAF50\"\n        stroke-width=\"3\"\n      />\n      <text\n        x=\"100\"\n        y=\"130\"\n        text-anchor=\"middle\"\n        fill=\"#4CAF50\"\n        font-size=\"14\"\n        fill=\"#FFC107\"\n      >\n        20° apart!\n      </text>\n\n      <!-- Embedding arrow -->\n      <path\n        d=\"M 220 100 L 280 100\"\n        stroke=\"#666\"\n        stroke-width=\"2\"\n        marker-end=\"url(#arrowhead)\"\n      />\n      <text\n        x=\"250\"\n        y=\"90\"\n        text-anchor=\"middle\"\n        fill=\"#666\"\n        font-size=\"12\"\n        fill=\"#FFC107\"\n      >\n        embed\n      </text>\n\n      <!-- 2D representation -->\n      <g transform=\"translate(320, 100)\">\n        <line x1=\"-50\" y1=\"0\" x2=\"50\" y2=\"0\" stroke=\"#999\" stroke-width=\"1\" />\n        <line x1=\"0\" y1=\"-50\" x2=\"0\" y2=\"50\" stroke=\"#999\" stroke-width=\"1\" />\n        <circle cx=\"40\" cy=\"0\" r=\"8\" fill=\"#FF5722\" />\n        <circle cx=\"-40\" cy=\"0\" r=\"8\" fill=\"#2196F3\" />\n        <text\n          x=\"0\"\n          y=\"-60\"\n          text-anchor=\"middle\"\n          fill=\"#666\"\n          font-size=\"12\"\n          fill=\"#FFC107\"\n        >\n          ℝ²\n        </text>\n      </g>\n\n      <!-- Arrow marker -->\n      <defs>\n        <marker\n          id=\"arrowhead\"\n          markerWidth=\"10\"\n          markerHeight=\"7\"\n          refX=\"10\"\n          refY=\"3.5\"\n          orient=\"auto\"\n        >\n          <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#666\" />\n        </marker>\n      </defs>\n    </svg>\n  </div>\n\n  <div class=\"presenter-info\">\n    <p>A practical guide to handling circular quantities in code</p>\n    <p class=\"author\">Ceres</p>\n    <p class=\"date\">Tech Talk</p>\n  </div>\n</div>\n","title":"Stop Fighting Wraparound"},{"content":"<div class=\"slide\">\n    <h1>The Bug We've All Written</h1>\n    \n    <div class=\"highlight-box\">\n        <h3>❌ The Naive Approach</h3>\n        <pre><code class=\"language-python\">def average_angle(angle1, angle2):\n    return (angle1 + angle2) / 2  # Seems reasonable...\n\n# Example: Average heading between two compass readings\nheading1 = 350  # degrees\nheading2 = 10   # degrees\n\naverage = average_angle(heading1, heading2)\nprint(f\"Average: {average}°\")  # 180° - COMPLETELY WRONG!</code></pre>\n    </div>\n    \n    <div class=\"visual-demo\">\n        <svg width=\"600\" height=\"600\" viewBox=\"0 0 300 300\">\n            <!-- Compass circle -->\n            <circle cx=\"150\" cy=\"150\" r=\"120\" fill=\"none\" stroke=\"#333\" stroke-width=\"2\"/>\n            \n            <!-- Compass labels -->\n            <text x=\"150\" y=\"20\" text-anchor=\"middle\" font-size=\"16\" font-weight=\"bold\" fill=\"#FFC107\">N (0°)</text>\n            <text x=\"280\" y=\"155\" text-anchor=\"middle\" font-size=\"16\" font-weight=\"bold\" fill=\"#FFC107\">E (90°)</text>\n            <text x=\"150\" y=\"290\" text-anchor=\"middle\" font-size=\"16\" font-weight=\"bold\" fill=\"#FFC107\">S (180°)</text>\n            <text x=\"20\" y=\"155\" text-anchor=\"middle\" font-size=\"16\" font-weight=\"bold\" fill=\"#FFC107\">W (270°)</text>\n            \n            <!-- Heading 1: 350° -->\n            <line x1=\"150\" y1=\"150\" x2=\"140\" y2=\"30\" stroke=\"#2196F3\" stroke-width=\"4\"/>\n            <circle cx=\"140\" cy=\"30\" r=\"8\" fill=\"#2196F3\"/>\n            <text x=\"110\" y=\"20\" font-size=\"14\" fill=\"#FFC107\">350°</text>\n            \n            <!-- Heading 2: 10° -->\n            <line x1=\"150\" y1=\"150\" x2=\"160\" y2=\"30\" stroke=\"#4CAF50\" stroke-width=\"4\"/>\n            <circle cx=\"160\" cy=\"30\" r=\"8\" fill=\"#4CAF50\"/>\n            <text x=\"190\" y=\"20\" font-size=\"14\" fill=\"#FFC107\">10°</text>\n            \n            <!-- Wrong average: 180° -->\n            <line x1=\"150\" y1=\"150\" x2=\"150\" y2=\"270\" stroke=\"#FF5722\" stroke-width=\"4\" stroke-dasharray=\"5,5\"/>\n            <circle cx=\"150\" cy=\"270\" r=\"8\" fill=\"#FF5722\"/>\n            <text x=\"150\" y=\"260\" text-anchor=\"middle\" font-size=\"16\" fill=\"#FF5722\" font-weight=\"bold\">\n                Wrong: 180°\n            </text>\n            \n            <!-- Correct average indicator -->\n            <line x1=\"150\" y1=\"150\" x2=\"150\" y2=\"30\" stroke=\"#FFC107\" stroke-width=\"3\" opacity=\"0.7\"/>\n            <text x=\"220\" y=\"60\" font-size=\"14\" fill=\"#ffffff\" font-weight=\"bold\">Should be ~0°!</text>\n        </svg>\n    </div>\n    \n    <div class=\"warning-box\">\n        <h3>What Went Wrong?</h3>\n        <ul>\n            <li>350° and 10° are <strong>20° apart</strong> on the circle</li>\n            <li>But linear math sees them as <strong>340° apart</strong></li>\n            <li>The average points in the <strong>opposite direction</strong>!</li>\n        </ul>\n    </div>\n</div>\n\n","title":"The Bug We've All Written"},{"content":"<div class=\"slide\">\n    <h1>The Midnight Bug</h1>\n    \n    <div class=\"info-box\">\n        <h3>📅 Real Scenario: Event Duration Tracking</h3>\n        <p>Meeting started at <strong>23:45</strong> (11:45 PM)</p>\n        <p>Meeting ended at <strong>00:15</strong> (12:15 AM)</p>\n    </div>\n    \n    <div class=\"code-comparison\">\n        <div class=\"highlight-box\">\n            <h4>❌ What Everyone Tries First</h4>\n            <pre><code>start_time = 23.75  # 23:45 in decimal hours\nend_time = 0.25     # 00:15 in decimal hours\n\nduration = end_time - start_time\nprint(f\"Duration: {duration} hours\")\n# Output: -23.5 hours 🤦</code></pre>\n        </div>\n        \n        <div class=\"warning-box\">\n            <h4>🤔 The Hacky \"Fix\"</h4>\n            <pre><code>if end_time < start_time:\n    # Must have crossed midnight\n    duration = (24 - start_time) + end_time\nelse:\n    duration = end_time - start_time\n    \n# More special cases...\nif crossed_dst:  # Daylight savings\n    duration += 1  # or -1? 😭</code></pre>\n        </div>\n    </div>\n    \n    <div class=\"clock-visual\">\n        <svg width=\"1200\" height=\"500\" viewBox=\"0 0 800 300\">\n            <!-- Linear representation -->\n            <g transform=\"translate(30, 80)\">\n                <text x=\"150\" y=\"-20\" text-anchor=\"middle\" font-size=\"14\" font-weight=\"bold\" fill=\"#FFC107\">Linear View:</text>\n                <line x1=\"0\" y1=\"20\" x2=\"300\" y2=\"20\" stroke=\"#333\" stroke-width=\"2\"/>\n                \n                <!-- Time markers -->\n                <line x1=\"0\" y1=\"15\" x2=\"0\" y2=\"25\" stroke=\"#333\" stroke-width=\"2\"/>\n                <text x=\"0\" y=\"40\" text-anchor=\"middle\" font-size=\"12\" fill=\"#FFC107\">0:00</text>\n                \n                <line x1=\"150\" y1=\"15\" x2=\"150\" y2=\"25\" stroke=\"#333\" stroke-width=\"2\"/>\n                <text x=\"150\" y=\"40\" text-anchor=\"middle\" font-size=\"12\" fill=\"#FFC107\">12:00</text>\n                \n                <line x1=\"300\" y1=\"15\" x2=\"300\" y2=\"25\" stroke=\"#333\" stroke-width=\"2\"/>\n                <text x=\"300\" y=\"40\" text-anchor=\"middle\" font-size=\"12\" fill=\"#FFC107\">24:00</text>\n                \n                <!-- Start time: 23:45 (23.75/24 * 300 = 296.25) -->\n                <circle cx=\"296\" cy=\"20\" r=\"8\" fill=\"#2196F3\"/>\n                <text x=\"296\" y=\"60\" text-anchor=\"middle\" font-size=\"12\" fill=\"#FFC107\">23:45</text>\n                \n                <!-- End time: 00:15 (0.25/24 * 300 = 3.125) -->\n                <circle cx=\"3\" cy=\"20\" r=\"8\" fill=\"#4CAF50\"/>\n                <text x=\"3\" y=\"60\" text-anchor=\"middle\" font-size=\"12\" fill=\"#FFC107\">00:15</text>\n                \n                <!-- Wrong distance -->\n                <path d=\"M 296 20 L 3 20\" stroke=\"#FF5722\" stroke-width=\"2\" stroke-dasharray=\"5,5\" opacity=\"0.5\"/>\n                <text x=\"150\" y=\"80\" text-anchor=\"middle\" fill=\"#FF5722\" font-size=\"14\">Linear: -23.5 hours!</text>\n            </g>\n            \n            <!-- Circular representation -->\n            <g transform=\"translate(550, 150)\">\n                <text x=\"0\" y=\"-90\" text-anchor=\"middle\" font-size=\"14\" font-weight=\"bold\" fill=\"#FFC107\">Circular View:</text>\n                <circle cx=\"0\" cy=\"0\" r=\"70\" fill=\"none\" stroke=\"#333\" stroke-width=\"2\"/>\n                \n                <!-- Clock numbers -->\n                <text x=\"0\" y=\"-55\" text-anchor=\"middle\" font-size=\"12\" fill=\"#FFC107\">12</text>\n                <text x=\"55\" y=\"5\" text-anchor=\"middle\" font-size=\"12\" fill=\"#FFC107\">3</text>\n                <text x=\"0\" y=\"60\" text-anchor=\"middle\" font-size=\"12\" fill=\"#FFC107\">6</text>\n                <text x=\"-55\" y=\"5\" text-anchor=\"middle\" font-size=\"12\" fill=\"#FFC107\">9</text>\n                \n                <!-- Start: 23:45 -->\n                <line x1=\"0\" y1=\"0\" x2=\"-10\" y2=\"-68\" stroke=\"#2196F3\" stroke-width=\"3\"/>\n                <circle cx=\"-10\" cy=\"-68\" r=\"8\" fill=\"#2196F3\"/>\n                \n                <!-- End: 00:15 -->\n                <line x1=\"0\" y1=\"0\" x2=\"10\" y2=\"-68\" stroke=\"#4CAF50\" stroke-width=\"3\"/>\n                <circle cx=\"10\" cy=\"-68\" r=\"8\" fill=\"#4CAF50\"/>\n                \n                <!-- Correct arc -->\n                <path d=\"M -10 -68 A 70 70 0 0 1 10 -68\" fill=\"none\" stroke=\"#4CAF50\" stroke-width=\"3\"/>\n                <text x=\"0\" y=\"90\" text-anchor=\"middle\" fill=\"#4CAF50\" font-size=\"14\" font-weight=\"bold\">\n                    Correct: 30 minutes!\n                </text>\n            </g>\n        </svg>\n    </div>\n    \n    <div class=\"success-box\">\n        <h3>💡 The Key Insight</h3>\n        <p>Time-of-day is a <strong>24-hour ring</strong>, not a line!</p>\n        <p>Linear arithmetic breaks at the wraparound point.</p>\n    </div>\n</div>\n\n","title":"The Midnight Bug"},{"content":"<div class=\"slide\">\n    <h1>The Missing Math Class: Circular Operations</h1>\n    \n    <div class=\"warning-box\">\n        <h3>🤯 What They Never Taught You</h3>\n        <p>Circular quantities are everywhere, but traditional math classes skip the operations entirely! Here's what you can actually <strong>do</strong> once you embed them as vectors:</p>\n    </div>\n    \n    <div class=\"two-column-equal\">\n        <div class=\"card\">\n            <h3>📊 Basic Operations</h3>\n            <div class=\"operation-list\">\n                <div class=\"op-item\">\n                    <strong>Addition:</strong> <code>v₁ + v₂</code><br>\n                    <small>Compose two rotations</small>\n                </div>\n                <div class=\"op-item\">\n                    <strong>Subtraction:</strong> <code>v₁ - v₂</code><br>\n                    <small>Find angular difference</small>\n                </div>\n                <div class=\"op-item\">\n                    <strong>Average:</strong> <code>mean(vectors)</code><br>\n                    <small>Circular mean (always works!)</small>\n                </div>\n                <div class=\"op-item\">\n                    <strong>Interpolation:</strong> <code>slerp(v₁, v₂, t)</code><br>\n                    <small>Smooth rotation between angles</small>\n                </div>\n            </div>\n        </div>\n        \n        <div class=\"card\">\n            <h3>🧮 Advanced Operations</h3>\n            <div class=\"operation-list\">\n                <div class=\"op-item\">\n                    <strong>Distance:</strong> <code>shortest_path(θ₁, θ₂)</code><br>\n                    <small>Minimal angular separation</small>\n                </div>\n                <div class=\"op-item\">\n                    <strong>Scaling:</strong> <code>scalar × vector</code><br>\n                    <small>Scale magnitude, preserve direction</small>\n                </div>\n                <div class=\"op-item\">\n                    <strong>Derivatives:</strong> <code>d/dt [cos(ωt), sin(ωt)]</code><br>\n                    <small>Angular velocity vectors</small>\n                </div>\n                <div class=\"op-item\">\n                    <strong>Integration:</strong> <code>∫ ω(t) dt</code><br>\n                    <small>Accumulate rotations over time</small>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"success-box\">\n        <h3>📈 Circular Statistics (The Really Cool Stuff)</h3>\n        <div class=\"code-example\">\n            <pre><code class=\"language-python\"># Operations that actually work on circular data!\nangles = [350°, 10°, 5°, 355°]  # Wind directions\nvectors = [to_vector(θ) for θ in angles]\n\n# Circular mean (not 180°!)\nmean_vector = np.mean(vectors, axis=0) \nmean_angle = from_vector(mean_vector)  # ≈ 0°\n\n# Circular standard deviation  \ndispersion = 1 - |mean_vector|  # How \"spread out\" are they?\n\n# Circular correlation\ncorrelation = correlate_circular(wind_dir, wave_dir)\n\n# Circular regression (yes, this exists!)\nslope, intercept = circular_regression(time, wave_directions)</code></pre>\n        </div>\n    </div>\n    \n    <div class=\"info-box\">\n        <h3>🎯 Why This Matters</h3>\n        <div class=\"three-column\">\n            <div>\n                <h4>🌊 Oceanography</h4>\n                <p>Wave directions, current flows</p>\n            </div>\n            <div>\n                <h4>🧭 Navigation</h4>\n                <p>GPS, compass bearings, flight paths</p>\n            </div>\n            <div>\n                <h4>🧬 Biology</h4>\n                <p>Circadian rhythms, animal migration</p>\n            </div>\n            <div>\n                <h4>🎵 Signal Processing</h4>\n                <p>Phase analysis, Fourier transforms</p>\n            </div>\n            <div>\n                <h4>🤖 Robotics</h4>\n                <p>Joint angles, orientation control</p>\n            </div>\n            <div>\n                <h4>📊 Data Science</h4>\n                <p>Seasonal trends, cyclic patterns</p>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"highlight-box\">\n        <h3>💡 The Big Insight</h3>\n        <p><strong>Every operation you know from linear algebra works on circular quantities—you just need to embed them first!</strong> This is why embedding is such a powerful mathematical technique.</p>\n        <div class=\"formula-showcase\">\n            <code>Circular Quantity → Vector → Linear Operation → Vector → Circular Result</code>\n        </div>\n    </div>\n</div>","title":"The Missing Math Class: Circular Operations"},{"content":"<div class=\"slide\">\n    <h1>Circular Statistics: The Hidden Superpower</h1>\n    \n    <div class=\"warning-box\">\n        <h3>🤯 What Statistics Class Never Taught You</h3>\n        <p>Standard statistics breaks horribly on circular data. But vector embedding makes circular statistics <strong>trivially easy</strong>—and incredibly powerful!</p>\n    </div>\n    \n    <div class=\"two-column-equal\">\n        <div class=\"card\">\n            <h3>📊 The Problem with Regular Stats</h3>\n            <div class=\"code-example\">\n                <pre><code class=\"language-python\"># Wind directions (degrees)\nangles = [350, 10, 5, 355]\n\n# Regular mean = DISASTER\nmean = sum(angles) / len(angles)  # = 180°\n# 180° is the OPPOSITE direction! 🤦‍♂️\n\n# Regular standard deviation = MEANINGLESS\nstd = numpy.std(angles)  # = 187°\n# Standard deviation larger than the range!</code></pre>\n            </div>\n        </div>\n        \n        <div class=\"card\">\n            <h3>✨ Vector Statistics = Magic</h3>\n            <div class=\"code-example\">\n                <pre><code class=\"language-python\"># Convert to vectors\nvectors = [angle_to_vector(θ) for θ in angles]\n\n# Circular mean = WORKS!\nmean_vector = np.mean(vectors, axis=0)\nmean_angle = vector_to_angle(mean_vector)  # ≈ 0°\n# Correct direction! 🎯\n\n# Circular standard deviation\nR = |mean_vector|  # Mean vector length\ncircular_std = sqrt(-2 * log(R))  # ≈ 22°\n# Sensible measure of spread!</code></pre>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"info-box\">\n        <h3>🧠 The Key Insight: Mean Vector Length</h3>\n        <div class=\"two-column\">\n            <div class=\"visual-element\">\n                <svg width=\"300\" height=\"200\" viewBox=\"0 0 300 200\">\n                    <!-- Tight cluster -->\n                    <g transform=\"translate(75, 100)\">\n                        <circle r=\"50\" fill=\"none\" stroke=\"#666\" stroke-width=\"1\" opacity=\"0.3\"/>\n                        <!-- Data points clustered tightly -->\n                        <circle cx=\"45\" cy=\"5\" r=\"4\" fill=\"#4CAF50\"/>\n                        <circle cx=\"47\" cy=\"-3\" r=\"4\" fill=\"#4CAF50\"/>\n                        <circle cx=\"43\" cy=\"3\" r=\"4\" fill=\"#4CAF50\"/>\n                        <circle cx=\"46\" cy=\"0\" r=\"4\" fill=\"#4CAF50\"/>\n                        <!-- Strong mean vector -->\n                        <path d=\"M 0 0 L 40 0\" stroke=\"#FF5722\" stroke-width=\"4\" marker-end=\"url(#arrow)\"/>\n                        <text x=\"0\" y=\"-65\" text-anchor=\"middle\" fill=\"#4CAF50\" font-size=\"12\">Tight Cluster</text>\n                        <text x=\"0\" y=\"75\" text-anchor=\"middle\" fill=\"#FF5722\" font-size=\"11\">|R| ≈ 0.95</text>\n                        <text x=\"0\" y=\"87\" text-anchor=\"middle\" fill=\"#666\" font-size=\"10\">Low variance</text>\n                    </g>\n                    \n                    <!-- Spread out data -->\n                    <g transform=\"translate(225, 100)\">\n                        <circle r=\"50\" fill=\"none\" stroke=\"#666\" stroke-width=\"1\" opacity=\"0.3\"/>\n                        <!-- Data points spread out -->\n                        <circle cx=\"45\" cy=\"5\" r=\"4\" fill=\"#2196F3\"/>\n                        <circle cx=\"-30\" cy=\"35\" r=\"4\" fill=\"#2196F3\"/>\n                        <circle cx=\"-15\" cy=\"-45\" r=\"4\" fill=\"#2196F3\"/>\n                        <circle cx=\"20\" cy=\"-40\" r=\"4\" fill=\"#2196F3\"/>\n                        <!-- Weak mean vector -->\n                        <path d=\"M 0 0 L 8 -5\" stroke=\"#FF5722\" stroke-width=\"4\" marker-end=\"url(#arrow)\"/>\n                        <text x=\"0\" y=\"-65\" text-anchor=\"middle\" fill=\"#2196F3\" font-size=\"12\">Spread Out</text>\n                        <text x=\"0\" y=\"75\" text-anchor=\"middle\" fill=\"#FF5722\" font-size=\"11\">|R| ≈ 0.1</text>\n                        <text x=\"0\" y=\"87\" text-anchor=\"middle\" fill=\"#666\" font-size=\"10\">High variance</text>\n                    </g>\n                    \n                    <defs>\n                        <marker id=\"arrow\" markerWidth=\"10\" markerHeight=\"7\" refX=\"10\" refY=\"3.5\" orient=\"auto\">\n                            <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#FF5722\"/>\n                        </marker>\n                    </defs>\n                </svg>\n            </div>\n            <div>\n                <h4>💡 The Beautiful Truth</h4>\n                <div class=\"formula-showcase\">\n                    <p><strong>Tight cluster:</strong> Mean vector is long (|R| → 1)</p>\n                    <p><strong>Spread out:</strong> Mean vector is short (|R| → 0)</p>\n                    <p><strong>Uniform circle:</strong> Mean vector ≈ 0</p>\n                </div>\n                <p>The length of the mean vector automatically captures how \"concentrated\" your circular data is!</p>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"success-box\">\n        <h3>🔬 Advanced Circular Stats That Actually Work</h3>\n        <div class=\"code-example\">\n            <pre><code class=\"language-python\"># Circular correlation between two angular variables\ndef circular_correlation(angles1, angles2):\n    v1 = [angle_to_vector(θ) for θ in angles1]\n    v2 = [angle_to_vector(θ) for θ in angles2]\n    # Standard correlation on the vector components\n    return pearsonr(v1, v2)\n\n# Circular regression (yes, this exists!)\ndef circular_regression(x, circular_y):\n    vectors_y = [angle_to_vector(θ) for θ in circular_y]\n    # Regress each component separately\n    cos_model = LinearRegression().fit(x, [v[0] for v in vectors_y])\n    sin_model = LinearRegression().fit(x, [v[1] for v in vectors_y])\n    return cos_model, sin_model\n\n# Watson-Williams test (circular ANOVA)\n# Test if multiple groups have the same mean direction\ndef watson_williams_test(group1_angles, group2_angles):\n    # Convert to vectors, compute mean directions, test significance\n    # (This is the circular equivalent of a t-test!)</code></pre>\n        </div>\n    </div>\n    \n    <div class=\"highlight-box\">\n        <h3>🌟 Real-World Applications</h3>\n        <div class=\"three-column\">\n            <div>\n                <h4>🧬 Biology</h4>\n                <p><strong>Animal migration:</strong> Test if birds change direction by season</p>\n                <p><strong>Circadian rhythms:</strong> Correlate activity with time of day</p>\n            </div>\n            <div>\n                <h4>🌊 Earth Sciences</h4>\n                <p><strong>Wind patterns:</strong> Seasonal wind direction changes</p>\n                <p><strong>Ocean currents:</strong> Correlation with tidal cycles</p>\n            </div>\n            <div>\n                <h4>🎵 Signal Processing</h4>\n                <p><strong>Phase analysis:</strong> Correlation between signal phases</p>\n                <p><strong>Circular convolution:</strong> Periodic signal filtering</p>\n            </div>\n        </div>\n    </div>\n</div>","title":"Circular Statistics: The Hidden Superpower"},{"content":"<div class=\"slide\">\n    <h1>Discrete Calculus on Circles: Data-Driven Operations</h1>\n    \n    <div class=\"info-box\">\n        <h3>📊 Real-World Data = Discrete Samples</h3>\n        <p>In practice, we don't have continuous functions—we have <strong>time series data</strong> of circular quantities. How do we compute derivatives and integrals when our data wraps around?</p>\n    </div>\n    \n    <div class=\"two-column-equal\">\n        <div class=\"card\">\n            <h3>📈 Discrete Derivatives (Angular Velocity)</h3>\n            <div class=\"code-example\">\n                <pre><code class=\"language-python\"># WRONG: Naive difference breaks at wraparound\nangles = [358°, 359°, 1°, 2°]  # Smooth rotation\nnaive_diff = [1°, 2°, -357°]  # HUGE SPIKE! 💥\n\n# RIGHT: Vector space derivative\nvectors = [(cos(θ), sin(θ)) for θ in angles]\ndvdt = [(v[i+1] - v[i])/dt for i in range(len(v)-1)]\n\n# Angular velocity from vector derivative\nω = cross_product(v[i], dvdt[i]) / |v[i]|²\n# Result: [1°/s, 1°/s, 1°/s] ✅</code></pre>\n            </div>\n        </div>\n        \n        <div class=\"card\">\n            <h3>📉 Discrete Integrals (Accumulated Rotation)</h3>\n            <div class=\"code-example\">\n                <pre><code class=\"language-python\"># WRONG: Sum angles directly\nangular_velocities = [90°/s, 90°/s, 90°/s, 90°/s]\nnaive_sum = sum(angular_velocities) * dt  # 360°???\n\n# RIGHT: Accumulate in vector space\nv_accumulated = [1, 0]  # Start at 0°\nfor ω in angular_velocities:\n    # Rotate vector by angular increment\n    dθ = ω * dt\n    rotation = [[cos(dθ), -sin(dθ)],\n                [sin(dθ), cos(dθ)]]\n    v_accumulated = rotation @ v_accumulated\n\nfinal_angle = atan2(v_accumulated)  # Correct!</code></pre>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"success-box\">\n        <h3>🔧 Practical Applications in Data Science</h3>\n        <div class=\"two-column\">\n            <div>\n                <h4>🌊 Wind Speed Analysis</h4>\n                <div class=\"code-example\">\n                    <pre><code class=\"language-python\"># Wind direction time series (sampled every hour)\nwind_dirs = [350°, 355°, 0°, 5°, 10°]  # North-ish\nwind_speeds = [10, 12, 15, 14, 11]  # mph\n\n# Compute wind vector components\nu = [-speed * sin(dir) for speed, dir in zip(wind_speeds, wind_dirs)]\nv = [-speed * cos(dir) for speed, dir in zip(wind_speeds, wind_dirs)]\n\n# Now can compute proper derivatives!\ndu_dt = np.gradient(u)  # Wind acceleration (east)\ndv_dt = np.gradient(v)  # Wind acceleration (north)</code></pre>\n                </div>\n            </div>\n            <div>\n                <h4>🤖 Robot Heading Tracking</h4>\n                <div class=\"code-example\">\n                    <pre><code class=\"language-python\"># IMU gives heading samples at 100Hz\nheadings = sensor.get_heading_buffer()  # [θ₁, θ₂, ..., θₙ]\ndt = 0.01  # 10ms between samples\n\n# Convert to unit vectors\nvectors = [(cos(h), sin(h)) for h in headings]\n\n# Compute angular velocity using discrete derivative\nangular_vel = []\nfor i in range(len(vectors)-1):\n    # Cross product gives rotation rate\n    ω = (vectors[i][0]*vectors[i+1][1] - \n         vectors[i][1]*vectors[i+1][0]) / dt\n    angular_vel.append(ω)\n\n# Smooth using windowed average (no wraparound issues!)\nsmoothed_ω = moving_average(angular_vel, window=10)</code></pre>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"warning-box\">\n        <h3>⚠️ Common Pitfalls with Discrete Circular Data</h3>\n        <div class=\"three-column\">\n            <div>\n                <h4>❌ Phase Unwrapping</h4>\n                <p><code>unwrap([350°, 10°])</code> → <code>[350°, 370°]</code></p>\n                <p>Creates artificial trends! Use vectors instead.</p>\n            </div>\n            <div>\n                <h4>❌ Modulo Arithmetic</h4>\n                <p><code>(θ₂ - θ₁) % 360</code></p>\n                <p>Loses direction info. Vector difference preserves it.</p>\n            </div>\n            <div>\n                <h4>❌ Averaging Raw Angles</h4>\n                <p><code>mean([0°, 90°, 180°, 270°])</code> → <code>135°</code></p>\n                <p>Should be undefined! Vector mean → 0.</p>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"highlight-box\">\n        <h3>🎯 The Key Pattern for Discrete Operations</h3>\n        <div class=\"formula-showcase\">\n            <div style=\"text-align: center; padding: 20px;\">\n                <p style=\"font-size: 18px; margin: 10px 0;\">\n                    <strong>Discrete Samples</strong> → <strong>Vector Time Series</strong> → <strong>Standard Numpy Operations</strong> → <strong>Interpret Results</strong>\n                </p>\n                <p style=\"margin-top: 20px;\">\n                    <code>θ[t]</code> → <code>[cos(θ[t]), sin(θ[t])]</code> → <code>np.gradient(), np.cumsum()</code> → <code>atan2() if needed</code>\n                </p>\n            </div>\n        </div>\n        <p><strong>Bottom Line:</strong> NumPy/Pandas operations \"just work\" on vector representations—no special circular functions needed!</p>\n    </div>\n</div>","title":"Discrete Calculus on Circles: Data-Driven Operations"},{"content":"<div class=\"slide\">\n    <h1>Hidden Rings Everywhere: Beyond Angles & Time</h1>\n    \n    <div class=\"warning-box\">\n        <h3>🔍 Circular Quantities Hide in Plain Sight</h3>\n        <p>It's not just angles, time, and colors that wrap around. Here are the sneaky cyclic variables that cause bugs when you least expect them:</p>\n    </div>\n    \n    <div class=\"pattern-table\">\n        <table style=\"width: 100%; border-collapse: collapse;\">\n            <thead>\n                <tr style=\"background: rgba(33, 150, 243, 0.1); border-bottom: 2px solid #2196F3;\">\n                    <th style=\"padding: 12px; text-align: left; width: 30%;\">Domain</th>\n                    <th style=\"padding: 12px; text-align: left; width: 35%;\">❌ Where Naive Math Fails</th>\n                    <th style=\"padding: 12px; text-align: left; width: 35%;\">✅ Correct Embedding</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr style=\"border-bottom: 1px solid #444;\">\n                    <td style=\"padding: 10px;\"><strong>📅 Weekdays</strong><br><code>d ∈ {0..6}</code></td>\n                    <td style=\"padding: 10px;\">Mean of Sat(6) and Mon(1) = 3.5 (Wed)?<br><span style=\"color: #FF5722;\">Wrong! Should be Sunday</span></td>\n                    <td style=\"padding: 10px;\"><code>(cos(2πd/7), sin(2πd/7))</code></td>\n                </tr>\n                <tr style=\"border-bottom: 1px solid #444; background: rgba(255, 255, 255, 0.02);\">\n                    <td style=\"padding: 10px;\"><strong>🔧 Rotary Encoders</strong><br><code>n ∈ [0, 4096)</code></td>\n                    <td style=\"padding: 10px;\">4095 → 1 looks like −4094 ticks<br><span style=\"color: #FF5722;\">Actually just 2 ticks forward!</span></td>\n                    <td style=\"padding: 10px;\"><code>(cos(2πn/N), sin(2πn/N))</code></td>\n                </tr>\n                <tr style=\"border-bottom: 1px solid #444;\">\n                    <td style=\"padding: 10px;\"><strong>🌍 Longitude</strong><br><code>λ ∈ [−180°, 180°)</code></td>\n                    <td style=\"padding: 10px;\">Mean of 179°E and 179°W = 0°?<br><span style=\"color: #FF5722;\">Points are 2° apart, not at Greenwich!</span></td>\n                    <td style=\"padding: 10px;\">3D vectors on sphere:<br><code>(cos(lat)cos(lon), cos(lat)sin(lon), sin(lat))</code></td>\n                </tr>\n                <tr style=\"border-bottom: 1px solid #444; background: rgba(255, 255, 255, 0.02);\">\n                    <td style=\"padding: 10px;\"><strong>📡 Signal Phase</strong><br><code>φ ∈ [−π, π)</code></td>\n                    <td style=\"padding: 10px;\">Phase unwrapping creates artificial jumps<br><span style=\"color: #FF5722;\">Destroys true periodicity</span></td>\n                    <td style=\"padding: 10px;\">Complex: <code>e<sup>iφ</sup> = cos(φ) + i·sin(φ)</code></td>\n                </tr>\n                <tr style=\"border-bottom: 1px solid #444;\">\n                    <td style=\"padding: 10px;\"><strong>💍 Ring Buffers</strong><br><code>idx ∈ [0, size)</code></td>\n                    <td style=\"padding: 10px;\"><code>tail - head</code> wrong when wrapped<br><span style=\"color: #FF5722;\">Buffer looks full when nearly empty!</span></td>\n                    <td style=\"padding: 10px;\"><code>(idx + size) % size</code><br>or embed as angle</td>\n                </tr>\n                <tr style=\"border-bottom: 1px solid #444; background: rgba(255, 255, 255, 0.02);\">\n                    <td style=\"padding: 10px;\"><strong>⚙️ Gear Teeth</strong><br><code>tooth ∈ [0, N)</code></td>\n                    <td style=\"padding: 10px;\">Tooth 0 and Tooth N-1 look maximally apart<br><span style=\"color: #FF5722;\">They're actually neighbors!</span></td>\n                    <td style=\"padding: 10px;\"><code>(cos(2πt/N), sin(2πt/N))</code></td>\n                </tr>\n                <tr style=\"border-bottom: 1px solid #444;\">\n                    <td style=\"padding: 10px;\"><strong>🧬 Circadian Phase</strong><br><code>t ∈ [0, 24h)</code></td>\n                    <td style=\"padding: 10px;\">Sleep at 23:00 and 01:00 averages to noon?<br><span style=\"color: #FF5722;\">Should be midnight!</span></td>\n                    <td style=\"padding: 10px;\"><code>(cos(2πt/24), sin(2πt/24))</code></td>\n                </tr>\n                <tr style=\"border-bottom: 1px solid #444; background: rgba(255, 255, 255, 0.02);\">\n                    <td style=\"padding: 10px;\"><strong>📊 Months of Year</strong><br><code>m ∈ {1..12}</code></td>\n                    <td style=\"padding: 10px;\">Dec(12) to Jan(1) = -11 months?<br><span style=\"color: #FF5722;\">Just 1 month forward!</span></td>\n                    <td style=\"padding: 10px;\"><code>(cos(2πm/12), sin(2πm/12))</code></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    \n    <div class=\"highlight-box\">\n        <h3>💡 The Universal Solution</h3>\n        <div class=\"formula-showcase\">\n            <p style=\"text-align: center; font-size: 18px; margin: 15px 0;\">\n                <strong>For ANY cyclic quantity with period T starting at offset s:</strong>\n            </p>\n            <p style=\"text-align: center; font-size: 20px; background: rgba(76, 175, 80, 0.1); padding: 15px; border-radius: 8px;\">\n                <code>θ = 2π(value - s)/T</code> → <code>(cos(θ), sin(θ))</code>\n            </p>\n            <p style=\"text-align: center; margin-top: 15px;\">\n                Do all your math in vector space, then project back if needed!\n            </p>\n        </div>\n    </div>\n    \n    <div class=\"info-box\">\n        <h3>🎯 When to Suspect a Hidden Ring</h3>\n        <div class=\"two-column\">\n            <div>\n                <h4>🚩 Red Flags in Your Data</h4>\n                <ul>\n                    <li>Values that \"roll over\" or \"wrap\"</li>\n                    <li>Modulo operations in the code</li>\n                    <li>Special cases for \"crossing midnight\"</li>\n                    <li>Discontinuous jumps in time series</li>\n                    <li>\"Distance\" that depends on direction</li>\n                </ul>\n            </div>\n            <div>\n                <h4>🐛 Classic Bug Patterns</h4>\n                <ul>\n                    <li>Averages that are wildly wrong</li>\n                    <li>Interpolation that takes the \"long way\"</li>\n                    <li>Derivatives with impossible spikes</li>\n                    <li>Sorting that puts neighbors far apart</li>\n                    <li>Clustering that splits natural groups</li>\n                </ul>\n            </div>\n        </div>\n    </div>\n</div>","title":"Hidden Rings Everywhere: Beyond Angles & Time"},{"content":"<div class=\"slide\">\n    <h1>When Zero Isn't Special: Arbitrary Wrap Points</h1>\n    \n    <div class=\"warning-box\">\n        <h3>🎯 Real Hardware Doesn't Care About Zero</h3>\n        <p>Many circular quantities in the wild wrap at arbitrary values, not nice round numbers. The math still works—you just need to normalize first!</p>\n    </div>\n    \n    <div class=\"two-column-equal\">\n        <div class=\"card\">\n            <h3>📊 Common Non-Zero Wrap Domains</h3>\n            <div class=\"example-list\">\n                <div class=\"example-item\">\n                    <h4>🧭 Compass: [-180°, +180°)</h4>\n                    <p>Wraps at ±180°, not 0°/360°</p>\n                    <code>bearing ∈ [-180, 180)</code>\n                </div>\n                <div class=\"example-item\">\n                    <h4>🔧 Rotary Encoder: [1000, 5096)</h4>\n                    <p>12-bit encoder with arbitrary offset</p>\n                    <code>counts ∈ [1000, 5096)</code>\n                </div>\n                <div class=\"example-item\">\n                    <h4>📡 Phase: [-π, +π)</h4>\n                    <p>Centered around zero, not starting at it</p>\n                    <code>phase ∈ [-π, π)</code>\n                </div>\n                <div class=\"example-item\">\n                    <h4>🗓️ Fiscal Year: [Apr, Mar]</h4>\n                    <p>Wraps at March/April boundary</p>\n                    <code>month ∈ [4, 3] (mod 12)</code>\n                </div>\n                <div class=\"example-item\">\n                    <h4>🌡️ ADC Values: [512, 3584)</h4>\n                    <p>Sensor with DC offset and limited range</p>\n                    <code>adc ∈ [512, 3584)</code>\n                </div>\n            </div>\n        </div>\n        \n        <div class=\"card\">\n            <h3>✨ The Universal Transform</h3>\n            <div class=\"formula-showcase\" style=\"background: rgba(76, 175, 80, 0.1); padding: 20px; border-radius: 8px; margin: 20px 0;\">\n                <h4>For any circular quantity:</h4>\n                <p><code>value ∈ [min, max)</code></p>\n                <p style=\"margin: 15px 0;\">↓</p>\n                <p><strong>1. Normalize to [0, 1):</strong></p>\n                <p><code>t = (value - min) / (max - min)</code></p>\n                <p style=\"margin: 15px 0;\">↓</p>\n                <p><strong>2. Embed on unit circle:</strong></p>\n                <p><code>v = (cos(2πt), sin(2πt))</code></p>\n                <p style=\"margin: 15px 0;\">↓</p>\n                <p><strong>3. Do your math in ℝ²</strong></p>\n                <p style=\"margin: 15px 0;\">↓</p>\n                <p><strong>4. Project back if needed:</strong></p>\n                <p><code>result = min + (max-min) × atan2(v.y, v.x)/(2π)</code></p>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"success-box\">\n        <h3>💻 Code Example: Averaging Compass Bearings</h3>\n        <div class=\"code-example\">\n            <pre><code class=\"language-python\"># PROBLEM: Compass uses [-180°, +180°) not [0°, 360°)\nbearings = [170, 175, -175, -170]  # All pointing roughly south\n\n# WRONG: Simple average\nnaive_mean = np.mean(bearings)  # = 0° (North!) 🤦\n\n# RIGHT: Normalize → Embed → Average → Denormalize\ndef circular_mean(values, min_val, max_val):\n    # Step 1: Normalize to [0, 1)\n    period = max_val - min_val\n    normalized = [(v - min_val) / period for v in values]\n    \n    # Step 2: Embed on circle\n    vectors = [(np.cos(2*np.pi*t), np.sin(2*np.pi*t)) for t in normalized]\n    \n    # Step 3: Average in vector space\n    mean_vector = np.mean(vectors, axis=0)\n    \n    # Step 4: Project back to original domain\n    angle = np.atan2(mean_vector[1], mean_vector[0])\n    result = min_val + (angle / (2*np.pi)) * period\n    if result < min_val:\n        result += period\n    return result\n\ncorrect_mean = circular_mean(bearings, -180, 180)  # ≈ 175° South! ✅</code></pre>\n        </div>\n    </div>\n    \n    <div class=\"info-box\">\n        <h3>🔧 Practical Examples</h3>\n        <div class=\"three-column\">\n            <div>\n                <h4>🎮 Game Development</h4>\n                <div class=\"code-snippet\">\n                    <pre><code># Joystick angle ∈ [-π, π]\njs_angle = atan2(js.y, js.x)\n# Don't compare directly!\n# Normalize first</code></pre>\n                </div>\n            </div>\n            <div>\n                <h4>🤖 Robotics</h4>\n                <div class=\"code-snippet\">\n                    <pre><code># Encoder wraps at 8192\n# but starts at 1000\nactual_pos = 1000 + \n  (raw - 1000) % 7192</code></pre>\n                </div>\n            </div>\n            <div>\n                <h4>📊 Time Series</h4>\n                <div class=\"code-snippet\">\n                    <pre><code># Fiscal quarters Q2-Q1\n# April = month 0\nfiscal_month = \n  (cal_month - 4) % 12</code></pre>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"highlight-box\">\n        <h3>🎯 Key Insight</h3>\n        <p style=\"font-size: 18px; text-align: center; margin: 20px 0;\">\n            <strong>The \"zero point\" is arbitrary!</strong> What matters is the <em>topology</em>—that values wrap around.\n        </p>\n        <p style=\"text-align: center;\">\n            Always normalize to [0, 1) or [0, 2π) before embedding. Your vector math doesn't care where the original wrap point was.\n        </p>\n    </div>\n</div>","title":"When Zero Isn't Special: Arbitrary Wrap Points"},{"content":"<div class=\"slide\">\n    <h1>Real Example: Robot/Drone Heading Control</h1>\n    \n    <div class=\"problem-setup\">\n        <h3>🤖 The Scenario</h3>\n        <p>PID controller needs to turn robot from 350° to 10°</p>\n    </div>\n    \n    <div class=\"visual-comparison\">\n        <div class=\"approach bad-approach\">\n            <h4>❌ Naive PID Error</h4>\n            <svg width=\"500\" height=\"500\" viewBox=\"0 0 250 250\">\n                <circle cx=\"125\" cy=\"125\" r=\"100\" fill=\"none\" stroke=\"#333\" stroke-width=\"2\"/>\n                \n                <!-- Current heading: 350° -->\n                <line x1=\"125\" y1=\"125\" x2=\"115\" y2=\"25\" stroke=\"#2196F3\" stroke-width=\"4\"/>\n                <circle cx=\"115\" cy=\"25\" r=\"6\" fill=\"#2196F3\"/>\n                <text x=\"75\" y=\"15\" font-size=\"12\" fill=\"#FFC107\">Current: 350°</text>\n                \n                <!-- Target heading: 10° -->\n                <line x1=\"125\" y1=\"125\" x2=\"135\" y2=\"25\" stroke=\"#4CAF50\" stroke-width=\"4\"/>\n                <circle cx=\"135\" cy=\"25\" r=\"6\" fill=\"#4CAF50\"/>\n                <text x=\"175\" y=\"15\" font-size=\"12\" fill=\"#FFC107\">Target: 10°</text>\n                \n                <!-- Wrong rotation path -->\n                <path d=\"M 115 25 A 100 100 0 1 1 135 25\" fill=\"none\" stroke=\"#FF5722\" stroke-width=\"3\" stroke-dasharray=\"5,5\"/>\n                <text x=\"125\" y=\"200\" text-anchor=\"middle\" font-size=\"14\" fill=\"#FF5722\" font-weight=\"bold\">\n                    Error: -340°\n                </text>\n                <text x=\"125\" y=\"220\" text-anchor=\"middle\" font-size=\"12\" fill=\"#FF5722\">\n                    Spins backward!\n                </text>\n            </svg>\n            \n            <pre><code>error = target - current\nerror = 10 - 350 = -340°\n# Robot spins almost full circle\n# the wrong way!</code></pre>\n        </div>\n        \n        <div class=\"approach good-approach\">\n            <h4>✅ Embedded Solution</h4>\n            <svg width=\"500\" height=\"500\" viewBox=\"0 0 250 250\">\n                <circle cx=\"125\" cy=\"125\" r=\"100\" fill=\"none\" stroke=\"#333\" stroke-width=\"2\"/>\n                \n                <!-- Current heading: 350° -->\n                <line x1=\"125\" y1=\"125\" x2=\"115\" y2=\"25\" stroke=\"#2196F3\" stroke-width=\"4\"/>\n                <circle cx=\"115\" cy=\"25\" r=\"6\" fill=\"#2196F3\"/>\n                <text x=\"75\" y=\"15\" font-size=\"12\" fill=\"#FFC107\">Current: 350°</text>\n                \n                <!-- Target heading: 10° -->\n                <line x1=\"125\" y1=\"125\" x2=\"135\" y2=\"25\" stroke=\"#4CAF50\" stroke-width=\"4\"/>\n                <circle cx=\"135\" cy=\"25\" r=\"6\" fill=\"#4CAF50\"/>\n                <text x=\"175\" y=\"15\" font-size=\"12\" fill=\"#FFC107\">Target: 10°</text>\n                \n                <!-- Correct rotation path -->\n                <path d=\"M 115 25 A 100 100 0 0 1 135 25\" fill=\"none\" stroke=\"#4CAF50\" stroke-width=\"3\"/>\n                <text x=\"125\" y=\"200\" text-anchor=\"middle\" font-size=\"14\" fill=\"#4CAF50\" font-weight=\"bold\">\n                    Error: +20°\n                </text>\n                <text x=\"125\" y=\"220\" text-anchor=\"middle\" font-size=\"12\" fill=\"#4CAF50\">\n                    Efficient turn!\n                </text>\n            </svg>\n            \n            <pre><code>def heading_error(current, target):\n    c_vec = [cos(current), sin(current)]\n    t_vec = [cos(target), sin(target)]\n    return atan2(cross(c_vec, t_vec), \n                 dot(c_vec, t_vec))\n# Returns: +20° (shortest path!)</code></pre>\n        </div>\n    </div>\n    \n    <div class=\"implementation\">\n        <h3>Complete PID Controller Fix</h3>\n        <pre><code class=\"language-python\">class HeadingController:\n    def __init__(self, kp=1.0, ki=0.1, kd=0.05):\n        self.kp, self.ki, self.kd = kp, ki, kd\n        self.integral = 0\n        self.last_error = 0\n        \n    def compute_control(self, current_heading, target_heading, dt):\n        # Embed both headings as vectors\n        current_vec = np.array([np.cos(current_heading), np.sin(current_heading)])\n        target_vec = np.array([np.cos(target_heading), np.sin(target_heading)])\n        \n        # Compute signed angle error (always shortest path)\n        error = np.arctan2(\n            current_vec[0] * target_vec[1] - current_vec[1] * target_vec[0],\n            current_vec[0] * target_vec[0] + current_vec[1] * target_vec[1]\n        )\n        \n        # Standard PID computation (now with correct error!)\n        self.integral += error * dt\n        derivative = (error - self.last_error) / dt\n        \n        control = self.kp * error + self.ki * self.integral + self.kd * derivative\n        self.last_error = error\n        \n        return control  # Angular velocity command</code></pre>\n    </div>\n    \n    <div class=\"impact-note\">\n        <p>💰 <strong>Real Impact:</strong> Shipping routes crossing the Pacific get drawn spanning ~359° longitude instead of the short ~20 nautical mile path due to antimeridian wraparound bugs in mapping SDKs</p>\n    </div>\n</div>\n\n","title":"Real Example: Robot/Drone Heading Control"},{"content":"<div class=\"slide\">\n    <h1>Color Interpolation (HSV Hue)</h1>\n    \n    <div class=\"color-problem\">\n        <h3>🎨 The Problem: Fade from Red to Magenta</h3>\n        <div class=\"color-display\">\n            <div class=\"color-box\" style=\"background: hsl(10, 100%, 50%);\">\n                <span>Red<br>10°</span>\n            </div>\n            <div class=\"arrow\">→</div>\n            <div class=\"color-box\" style=\"background: hsl(350, 100%, 50%);\">\n                <span>Magenta<br>350°</span>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"approaches\">\n        <div class=\"approach-bad\">\n            <h4>❌ Linear Interpolation</h4>\n            <div class=\"color-gradient bad-gradient\">\n                <div class=\"color-step\" style=\"background: hsl(10, 100%, 50%);\"></div>\n                <div class=\"color-step\" style=\"background: hsl(68, 100%, 50%);\"></div>\n                <div class=\"color-step\" style=\"background: hsl(126, 100%, 50%);\"></div>\n                <div class=\"color-step\" style=\"background: hsl(180, 100%, 50%);\"></div>\n                <div class=\"color-step\" style=\"background: hsl(238, 100%, 50%);\"></div>\n                <div class=\"color-step\" style=\"background: hsl(296, 100%, 50%);\"></div>\n                <div class=\"color-step\" style=\"background: hsl(350, 100%, 50%);\"></div>\n            </div>\n            <pre><code>mid_hue = (10 + 350) / 2 = 180°  # CYAN!?\n# Goes through entire rainbow!</code></pre>\n        </div>\n        \n        <div class=\"approach-good\">\n            <h4>✅ Circular Interpolation</h4>\n            <div class=\"color-gradient good-gradient\">\n                <div class=\"color-step\" style=\"background: hsl(10, 100%, 50%);\"></div>\n                <div class=\"color-step\" style=\"background: hsl(6, 100%, 50%);\"></div>\n                <div class=\"color-step\" style=\"background: hsl(2, 100%, 50%);\"></div>\n                <div class=\"color-step\" style=\"background: hsl(358, 100%, 50%);\"></div>\n                <div class=\"color-step\" style=\"background: hsl(354, 100%, 50%);\"></div>\n                <div class=\"color-step\" style=\"background: hsl(350, 100%, 50%);\"></div>\n            </div>\n            <pre><code>vec1 = [cos(10°), sin(10°)]\nvec2 = [cos(350°), sin(350°)]\nvec_mid = normalize((vec1 + vec2) / 2)\nmid_hue = atan2(vec_mid)  # 0° (stays red!)</code></pre>\n        </div>\n    </div>\n    \n    <div class=\"implementation-example\">\n        <h3>Production-Ready Color Lerp</h3>\n        <pre><code class=\"javascript\">function lerpHue(h1, h2, t) {\n    // Convert hues to radians\n    const theta1 = h1 * Math.PI / 180;\n    const theta2 = h2 * Math.PI / 180;\n    \n    // Embed on unit circle\n    const v1 = [Math.cos(theta1), Math.sin(theta1)];\n    const v2 = [Math.cos(theta2), Math.sin(theta2)];\n    \n    // Interpolate vectors\n    const vt = [\n        (1 - t) * v1[0] + t * v2[0],\n        (1 - t) * v1[1] + t * v2[1]\n    ];\n    \n    // Normalize and convert back\n    const norm = Math.sqrt(vt[0]**2 + vt[1]**2);\n    const thetaT = Math.atan2(vt[1]/norm, vt[0]/norm);\n    \n    return (thetaT * 180 / Math.PI + 360) % 360;\n}\n\n// CSS gradient generator\nfunction generateGradient(h1, h2, steps) {\n    const colors = [];\n    for (let i = 0; i <= steps; i++) {\n        const t = i / steps;\n        const h = lerpHue(h1, h2, t);\n        colors.push(`hsl(${h}, 100%, 50%)`);\n    }\n    return `linear-gradient(90deg, ${colors.join(', ')})`;\n}</code></pre>\n    </div>\n    \n    <div class=\"use-cases\">\n        <h3>Where This Matters</h3>\n        <ul>\n            <li>🎮 <strong>Game UI:</strong> Health bar color transitions</li>\n            <li>📊 <strong>Data Viz:</strong> Temperature/pressure heatmaps</li>\n            <li>🎬 <strong>Animation:</strong> Smooth color transitions</li>\n            <li>🖼️ <strong>Image Processing:</strong> Color correction algorithms</li>\n        </ul>\n    </div>\n</div>\n\n","title":"Color Interpolation (HSV Hue)"},{"content":"<div class=\"slide\">\n    <h1>The General Pattern</h1>\n    \n    <div class=\"pattern-table\">\n        <h3>Any Circular Quantity Can Be Embedded!</h3>\n        <table>\n            <thead>\n                <tr>\n                    <th>Wraparound Quantity</th>\n                    <th>Traditional Problems</th>\n                    <th>Embedding Solution</th>\n                    <th>Benefits</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr>\n                    <td><strong>Angle</strong><br>θ ∈ [0, 2π)</td>\n                    <td>Gimbal lock, discontinuities</td>\n                    <td>(cos θ, sin θ) ∈ ℝ²</td>\n                    <td>Smooth interpolation</td>\n                </tr>\n                <tr>\n                    <td><strong>Time of Day</strong><br>t ∈ [0, 24)</td>\n                    <td>Midnight wraparound</td>\n                    <td>(cos 2πt/24, sin 2πt/24)</td>\n                    <td>No special cases</td>\n                </tr>\n                <tr>\n                    <td><strong>Day of Week</strong><br>d ∈ {0..6}</td>\n                    <td>Weekend averaging</td>\n                    <td>e^(2πid/7) or 7D one-hot</td>\n                    <td>Correct statistics</td>\n                </tr>\n                <tr>\n                    <td><strong>Phase</strong><br>φ ∈ [-π, π)</td>\n                    <td>Phase unwrapping</td>\n                    <td>e^(iφ) ∈ ℂ</td>\n                    <td>Natural operations</td>\n                </tr>\n                <tr>\n                    <td><strong>Encoder Position</strong><br>n ∈ [0, 4096)</td>\n                    <td>Rollover detection</td>\n                    <td>(cos 2πn/4096, sin 2πn/4096)</td>\n                    <td>Continuous tracking</td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    \n    <div class=\"universal-class\">\n        <h3>One Class to Rule Them All</h3>\n        <pre><code class=\"language-python\">class CircularQuantity:\n    \"\"\"Universal handler for any quantity that wraps around\"\"\"\n    \n    def __init__(self, value, period):\n        self.period = period\n        self.value = value % period  # Normalize to [0, period)\n        \n        # THE KEY: Embed on unit circle\n        theta = 2 * np.pi * self.value / period\n        self.vec = np.array([np.cos(theta), np.sin(theta)])\n    \n    def shortest_distance_to(self, other):\n        \"\"\"Always returns shortest signed distance\"\"\"\n        angle = np.arctan2(\n            self.vec[0] * other.vec[1] - self.vec[1] * other.vec[0],\n            self.vec[0] * other.vec[0] + self.vec[1] * other.vec[1]\n        )\n        return angle * self.period / (2 * np.pi)\n    \n    def average_with(self, others):\n        \"\"\"Proper circular mean\"\"\"\n        all_vecs = [self.vec] + [o.vec for o in others]\n        mean_vec = np.mean(all_vecs, axis=0)\n        mean_vec /= np.linalg.norm(mean_vec)  # Renormalize\n        \n        angle = np.arctan2(mean_vec[1], mean_vec[0])\n        mean_value = angle * self.period / (2 * np.pi)\n        return CircularQuantity(mean_value, self.period)\n    \n    def interpolate_to(self, other, t):\n        \"\"\"Smooth interpolation along shortest path\"\"\"\n        # SLERP for perfect circular interpolation\n        dot = np.dot(self.vec, other.vec)\n        omega = np.arccos(np.clip(dot, -1, 1))\n        \n        if abs(omega) < 1e-10:  # Vectors are identical\n            return self\n        \n        vec_t = (np.sin((1-t)*omega)/np.sin(omega) * self.vec +\n                 np.sin(t*omega)/np.sin(omega) * other.vec)\n        \n        angle = np.arctan2(vec_t[1], vec_t[0])\n        value = angle * self.period / (2 * np.pi)\n        return CircularQuantity(value, self.period)</code></pre>\n    </div>\n    \n    <div class=\"examples-grid\">\n        <div class=\"example\">\n            <h4>📐 Angles</h4>\n            <pre><code>a1 = CircularQuantity(350, 360)\na2 = CircularQuantity(10, 360)\ndist = a1.shortest_distance_to(a2)\n# Result: 20°</code></pre>\n        </div>\n        \n        <div class=\"example\">\n            <h4>⏰ Time</h4>\n            <pre><code>t1 = CircularQuantity(23.5, 24)\nt2 = CircularQuantity(0.5, 24)\navg = t1.average_with([t2])\n# Result: 0.0 (midnight)</code></pre>\n        </div>\n        \n        <div class=\"example\">\n            <h4>📅 Weekdays</h4>\n            <pre><code>days = [CircularQuantity(6, 7),  # Sat\n        CircularQuantity(0, 7),  # Sun\n        CircularQuantity(1, 7)]  # Mon\navg = days[0].average_with(days[1:])\n# Result: 0 (Sunday)</code></pre>\n        </div>\n        \n        <div class=\"example\">\n            <h4>🔄 Encoder</h4>\n            <pre><code>e1 = CircularQuantity(4090, 4096)\ne2 = CircularQuantity(10, 4096)\ndelta = e1.shortest_distance_to(e2)\n# Result: 20 counts</code></pre>\n        </div>\n    </div>\n</div>\n\n","title":"The General Pattern"},{"content":"<div class=\"slide\">\n    <h1>The Mathematical Insight</h1>\n    \n    <div class=\"info-box\">\n        <h3>Why Does This Work?</h3>\n        <div class=\"visual-demo\">\n            <svg width=\"600\" height=\"150\" viewBox=\"0 0 600 150\">\n                <!-- Line with endpoints -->\n                <g transform=\"translate(100, 75)\">\n                    <line x1=\"-60\" y1=\"0\" x2=\"60\" y2=\"0\" stroke=\"#333\" stroke-width=\"3\"/>\n                    <circle cx=\"-60\" cy=\"0\" r=\"6\" fill=\"#FF5722\"/>\n                    <circle cx=\"60\" cy=\"0\" r=\"6\" fill=\"#FF5722\"/>\n                    <text x=\"0\" y=\"30\" text-anchor=\"middle\" font-size=\"14\" fill=\"#FFC107\">Line has endpoints</text>\n                </g>\n                \n                <!-- vs -->\n                <text x=\"300\" y=\"80\" text-anchor=\"middle\" font-size=\"20\" fill=\"#FFC107\">vs</text>\n                \n                <!-- Circle -->\n                <g transform=\"translate(500, 40)\">\n                    <circle cx=\"0\" cy=\"0\" r=\"50\" fill=\"none\" stroke=\"#333\" stroke-width=\"3\"/>\n                    <text x=\"0\" y=\"70\" text-anchor=\"middle\" font-size=\"14\" fill=\"#FFC107\">Circle has none!</text>\n                </g>\n            </svg>\n        </div>\n        <p class=\"text-center\">A circle (S¹) is topologically different from a line segment. Linear math breaks at the wraparound point.</p>\n    </div>\n    \n    <div class=\"two-column-equal\">\n        <div class=\"card\">\n            <h3>🌐 The Circle Problem</h3>\n            <ul>\n                <li><strong>Circles have no \"beginning\" or \"end\"</strong></li>\n                <li>359° and 1° are neighbors</li>\n                <li>But arithmetic says 359 - 1 = 358 🤦</li>\n                <li>→ Solution: Use 2D vectors instead!</li>\n            </ul>\n        </div>\n        \n        <div class=\"card\">\n            <h3>🔄 The Wrapping Function</h3>\n            <svg width=\"300\" height=\"120\" viewBox=\"0 0 300 120\">\n                <path d=\"M 20 80 Q 70 20, 120 80 T 220 80 T 280 80\" stroke=\"#2196F3\" stroke-width=\"3\" fill=\"none\"/>\n                <text x=\"50\" y=\"60\" text-anchor=\"middle\" font-size=\"12\" fill=\"#FFC107\">0°</text>\n                <text x=\"120\" y=\"60\" text-anchor=\"middle\" font-size=\"12\" fill=\"#FFC107\">360°</text>\n                <text x=\"190\" y=\"60\" text-anchor=\"middle\" font-size=\"12\" fill=\"#FFC107\">720°</text>\n                <text x=\"260\" y=\"60\" text-anchor=\"middle\" font-size=\"12\" fill=\"#FFC107\">1080°</text>\n            </svg>\n            <p>Angles wrap around: 370° = 10°, 730° = 10°, etc. The infinite line wraps onto the finite circle.</p>\n        </div>\n    </div>\n    \n    <div class=\"success-box\">\n        <h3>🔑 The Universal Pattern</h3>\n        <div class=\"process-flow\">\n            <div class=\"process-step\">\n                <h4>Problem Space</h4>\n                <p>Non-linear manifold</p>\n                <small>(circle, sphere, torus)</small>\n            </div>\n            <div class=\"process-step\">\n                <h4>Embedding</h4>\n                <p>Lift to linear space</p>\n                <small>(ℝ², ℝ³, ℂ)</small>\n            </div>\n            <div class=\"process-step\">\n                <h4>Computation</h4>\n                <p>Do linear algebra</p>\n                <small>(add, average, interpolate)</small>\n            </div>\n            <div class=\"process-step\">\n                <h4>Projection</h4>\n                <p>Map back to manifold</p>\n                <small>(atan2, normalize)</small>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"two-column\">\n        <div class=\"warning-box\">\n            <h3>🎯 Where Else This Appears</h3>\n            <ul>\n                <li><strong>Quaternions:</strong> 3D rotations in 4D space</li>\n                <li><strong>Complex Numbers:</strong> 2D rotations in ℂ</li>\n                <li><strong>Fourier Transform:</strong> Signals on unit circle</li>\n                <li><strong>Neural Networks:</strong> Learned embeddings</li>\n            </ul>\n        </div>\n        \n        <div class=\"highlight-box\">\n            <h3>💭 Mathematical Insight</h3>\n            <blockquote style=\"font-style: italic; margin: 10px 0;\">\n                \"The introduction of numbers as coordinates is an act of violence.\"\n                <br><cite style=\"font-size: 14px;\">— Hermann Weyl</cite>\n            </blockquote>\n            <p><strong>But sometimes, the right coordinates make the violence worthwhile!</strong></p>\n        </div>\n    </div>\n</div>\n\n","title":"The Mathematical Insight"},{"content":"<div class=\"slide\">\n    <h1>Key Takeaways</h1>\n    \n    <div class=\"main-takeaway\">\n        <h2>🎯 The Golden Rule</h2>\n        <div class=\"golden-rule\">\n            <p>When you see a quantity that wraps around,</p>\n            <p><strong>ask: \"Can I embed this on a circle?\"</strong></p>\n        </div>\n    </div>\n    \n    <div class=\"practical-steps\">\n        <h3>Your Debugging Checklist</h3>\n        <div class=\"checklist\">\n            <div class=\"check-item\">\n                <span class=\"checkbox\">✓</span>\n                <div>\n                    <h4>Spot the Wraparound</h4>\n                    <p>Does your value jump discontinuously? (359° → 0°, 11:59 PM → 12:00 AM)</p>\n                </div>\n            </div>\n            \n            <div class=\"check-item\">\n                <span class=\"checkbox\">✓</span>\n                <div>\n                    <h4>Identify the Period</h4>\n                    <p>What's the cycle length? (360° for angles, 24 hours for time, 7 for weekdays)</p>\n                </div>\n            </div>\n            \n            <div class=\"check-item\">\n                <span class=\"checkbox\">✓</span>\n                <div>\n                    <h4>Choose Your Embedding</h4>\n                    <p>Usually: <code style=\"display: inline-block;\">(cos(<span style=\"display: inline-block; vertical-align: middle;\"><span style=\"display: block; text-align: center; border-bottom: 1px solid;\">2πx</span><span style=\"display: block; text-align: center;\">T</span></span>), sin(<span style=\"display: inline-block; vertical-align: middle;\"><span style=\"display: block; text-align: center; border-bottom: 1px solid;\">2πx</span><span style=\"display: block; text-align: center;\">T</span></span>))</code> where <code>T</code> is the period</p>\n                </div>\n            </div>\n            \n            <div class=\"check-item\">\n                <span class=\"checkbox\">✓</span>\n                <div>\n                    <h4>Work in Vector Space</h4>\n                    <p>Do all math on the vectors, not the raw values</p>\n                </div>\n            </div>\n            \n            <div class=\"check-item\">\n                <span class=\"checkbox\">✓</span>\n                <div>\n                    <h4>Project Back When Needed</h4>\n                    <p>Use <code>atan2(y, x)</code> to recover the original quantity</p>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"libraries-section\">\n        <h3>Don't Reinvent: Use Libraries!</h3>\n        <div class=\"library-grid\">\n            <div class=\"library\">\n                <h4>Python</h4>\n                <ul>\n                    <li><code>scipy.stats.circmean</code></li>\n                    <li><code>astropy.coordinates</code></li>\n                    <li><code>pyquaternion</code></li>\n                </ul>\n            </div>\n            \n            <div class=\"library\">\n                <h4>JavaScript</h4>\n                <ul>\n                    <li><code>d3-interpolate</code></li>\n                    <li><code>three.js Quaternion</code></li>\n                    <li><code>tinycolor2</code></li>\n                </ul>\n            </div>\n            \n            <div class=\"library\">\n                <h4>C++</h4>\n                <ul>\n                    <li><code>Eigen::AngleAxis</code></li>\n                    <li><code>boost::geometry</code></li>\n                    <li><code>tf2</code> (ROS)</li>\n                </ul>\n            </div>\n            \n            <div class=\"library\">\n                <h4>MATLAB</h4>\n                <ul>\n                    <li><code>circstat toolbox</code></li>\n                    <li><code>Aerospace Toolbox</code></li>\n                    <li><code>angle()</code>, <code>unwrap()</code></li>\n                </ul>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"red-flags\">\n        <h3>🚩 Red Flags in Your Code</h3>\n        <div class=\"flag-list\">\n            <div class=\"flag\">\n                <code>if (angle > 180) angle -= 360;</code>\n                <span>→ Use circular math instead</span>\n            </div>\n            <div class=\"flag\">\n                <code>if (crossed_midnight) /* special case */</code>\n                <span>→ Embed on 24-hour circle</span>\n            </div>\n            <div class=\"flag\">\n                <code>while (phase > π) phase -= 2π;</code>\n                <span>→ Work with complex exponentials</span>\n            </div>\n            <div class=\"flag\">\n                <code>// TODO: handle wraparound</code>\n                <span>→ Today's the day!</span>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"success-story\">\n        <div class=\"story-content\">\n            <h3>🎉 Success Story</h3>\n            <p>\"After this talk, I fixed a 3-year-old GPS bearing bug in 5 lines of code. The robot finally drives in straight lines!\"</p>\n            <cite>— Future You</cite>\n        </div>\n    </div>\n</div>\n\n","title":"Key Takeaways"},{"content":"<div class=\"slide\">\n    <h1>Interactive Demo</h1>\n    \n    <div class=\"demo-container\">\n        <div class=\"demo-section\">\n            <h3>🎮 Try It Yourself: Angle Averaging</h3>\n            \n            <div class=\"angle-inputs\">\n                <label>\n                    Angle 1: <input type=\"range\" id=\"angle1\" min=\"0\" max=\"359\" value=\"350\">\n                    <span id=\"angle1-display\">350°</span>\n                </label>\n                <label>\n                    Angle 2: <input type=\"range\" id=\"angle2\" min=\"0\" max=\"359\" value=\"10\">\n                    <span id=\"angle2-display\">10°</span>\n                </label>\n            </div>\n            \n            <div class=\"demo-visual\">\n                <svg width=\"400\" height=\"400\" viewBox=\"0 0 400 400\" id=\"demo-svg\">\n                    <!-- Circle -->\n                    <circle cx=\"200\" cy=\"200\" r=\"150\" fill=\"none\" stroke=\"#333\" stroke-width=\"2\"/>\n                    \n                    <!-- Compass labels -->\n                    <text x=\"200\" y=\"30\" text-anchor=\"middle\" font-size=\"16\" font-weight=\"bold\" fill=\"#FFC107\">0°</text>\n                    <text x=\"370\" y=\"205\" text-anchor=\"middle\" font-size=\"16\" font-weight=\"bold\" fill=\"#FFC107\">90°</text>\n                    <text x=\"200\" y=\"380\" text-anchor=\"middle\" font-size=\"16\" font-weight=\"bold\" fill=\"#FFC107\">180°</text>\n                    <text x=\"30\" y=\"205\" text-anchor=\"middle\" font-size=\"16\" font-weight=\"bold\" fill=\"#FFC107\">270°</text>\n                    \n                    <!-- Angle 1 line -->\n                    <line id=\"angle1-line\" x1=\"200\" y1=\"200\" x2=\"200\" y2=\"50\" stroke=\"#2196F3\" stroke-width=\"4\"/>\n                    <circle id=\"angle1-point\" cx=\"200\" cy=\"50\" r=\"8\" fill=\"#2196F3\"/>\n                    \n                    <!-- Angle 2 line -->\n                    <line id=\"angle2-line\" x1=\"200\" y1=\"200\" x2=\"200\" y2=\"50\" stroke=\"#4CAF50\" stroke-width=\"4\"/>\n                    <circle id=\"angle2-point\" cx=\"200\" cy=\"50\" r=\"8\" fill=\"#4CAF50\"/>\n                    \n                    <!-- Average (wrong) -->\n                    <line id=\"avg-wrong-line\" x1=\"200\" y1=\"200\" x2=\"200\" y2=\"350\" stroke=\"#FF5722\" stroke-width=\"3\" stroke-dasharray=\"5,5\" opacity=\"0\"/>\n                    <circle id=\"avg-wrong-point\" cx=\"200\" cy=\"350\" r=\"6\" fill=\"#FF5722\" opacity=\"0\"/>\n                    \n                    <!-- Average (correct) -->\n                    <line id=\"avg-correct-line\" x1=\"200\" y1=\"200\" x2=\"200\" y2=\"50\" stroke=\"#FFC107\" stroke-width=\"4\"/>\n                    <circle id=\"avg-correct-point\" cx=\"200\" cy=\"50\" r=\"8\" fill=\"#FFC107\"/>\n                </svg>\n            </div>\n            \n            <div class=\"demo-results\">\n                <div class=\"result wrong-result\">\n                    <h4>❌ Linear Average</h4>\n                    <p id=\"wrong-result\">180°</p>\n                </div>\n                \n                <div class=\"result correct-result\">\n                    <h4>✅ Circular Average</h4>\n                    <p id=\"correct-result\">0°</p>\n                </div>\n            </div>\n        </div>\n        \n        <div class=\"code-section\">\n            <h3>The Code Behind It</h3>\n            <pre><code id=\"demo-code\">function circularAverage(a1, a2) {\n    // Convert to radians\n    const theta1 = a1 * Math.PI / 180;\n    const theta2 = a2 * Math.PI / 180;\n    \n    // Embed on unit circle\n    const v1 = [Math.cos(theta1), Math.sin(theta1)];\n    const v2 = [Math.cos(theta2), Math.sin(theta2)];\n    \n    // Average vectors\n    const avgVec = [(v1[0] + v2[0])/2, (v1[1] + v2[1])/2];\n    \n    // Convert back to angle\n    const avgTheta = Math.atan2(avgVec[1], avgVec[0]);\n    return (avgTheta * 180 / Math.PI + 360) % 360;\n}</code></pre>\n        </div>\n    </div>\n</div>\n\n\n","title":"Interactive Demo"},{"content":"<div class=\"slide\" style=\"display:grid; gap:12px;\">\n  <h1>🌍 GIS Demo: Longitude Wraparound at the International Date Line</h1>\n  \n  <div class=\"info-box\">\n    <h3>Real-World Problem: Computing Geographic Means</h3>\n    <p>When averaging GPS coordinates near ±180° longitude (International Date Line), linear arithmetic fails spectacularly. A farm field split by the date line appears to span the entire globe!</p>\n  </div>\n  \n  <div id=\"map\" style=\"height:600px; border-radius:12px; overflow:hidden; border:1px solid rgba(255,255,255,.15)\"></div>\n  \n  <div style=\"display:flex; gap:16px; flex-wrap:wrap; align-items:center;\">\n    <label><input type=\"checkbox\" id=\"worldCopy\" checked> worldCopyJump (wrap world)</label>\n    <label><input type=\"checkbox\" id=\"noWrapTiles\"> tile noWrap (stop wrapping tiles)</label>\n    <span id=\"readout\" style=\"opacity:.9; font-family: monospace;\">Circular mean: …</span>\n  </div>\n  \n  <div class=\"success-box\">\n    <h3>🎯 Try This: Drag the markers across the International Date Line!</h3>\n    <p><strong>Red marker</strong> = Wrong linear mean | <strong>Green marker</strong> = Correct circular mean</p>\n    <p>Watch how the linear mean jumps to the middle of the Atlantic while the circular mean stays put! This is the classic longitude wraparound bug.</p>\n  </div>\n  \n  <div class=\"code-example\">\n    <h3>Spherical Coordinate Embedding</h3>\n    <pre><code class=\"language-python\"># For full lat/long geometry operations\ndef latlon_to_cartesian(lat, lon):\n    \"\"\"Embed (lat,lon) in R³ for linear operations\"\"\"\n    lat_rad = np.radians(lat)\n    lon_rad = np.radians(lon)\n    return np.array([\n        np.cos(lat_rad) * np.cos(lon_rad),  # x\n        np.cos(lat_rad) * np.sin(lon_rad),  # y  \n        np.sin(lat_rad)                     # z\n    ])\n\n# Geographic centroid (works across antimeridian!)\ndef geographic_centroid(lat_lon_pairs):\n    cartesian_points = [latlon_to_cartesian(lat, lon) \n                       for lat, lon in lat_lon_pairs]\n    mean_cartesian = np.mean(cartesian_points, axis=0)\n    mean_cartesian /= np.linalg.norm(mean_cartesian)  # Back to unit sphere\n    \n    # Convert back to lat/lon\n    lat = np.degrees(np.arcsin(mean_cartesian[2]))\n    lon = np.degrees(np.arctan2(mean_cartesian[1], mean_cartesian[0]))\n    return lat, lon</code></pre>\n  </div>\n  \n  <div class=\"warning-box\">\n    <h3>🏢 Company Applications</h3>\n    <ul>\n      <li><strong>Spatial Statistics:</strong> Computing true centroids for service areas</li>\n      <li><strong>Route Optimization:</strong> Distance calculations that work globally</li>\n      <li><strong>Geofencing:</strong> Boundary checks that don't break at meridians</li>\n      <li><strong>Data Quality:</strong> Detecting GPS outliers using proper spherical distance</li>\n    </ul>\n  </div>\n</div>\n\n","title":"🌍 GIS Demo: Longitude Wraparound at the International Date Line"}];

let currentSlide = 0;

function showSlide(index) {
    if (index < 0 || index >= slidesData.length) return;
    
    const slideContent = document.getElementById('slide-content');
    slideContent.innerHTML = slidesData[index].content;
    
    // Update counter
    document.getElementById('current-slide').textContent = index + 1;
    document.getElementById('total-slides').textContent = slidesData.length;
    
    // Update navigation buttons
    const prevButton = document.querySelector('.nav-button');
    const nextButton = document.querySelector('.nav-button:last-child');
    
    prevButton.disabled = index === 0;
    nextButton.disabled = index === slidesData.length - 1;
    
    // Add fade in animation
    slideContent.style.animation = 'none';
    slideContent.offsetHeight; // Trigger reflow
    slideContent.style.animation = 'fadeIn 0.5s';
    
    // Re-run any scripts in the slide
    const scripts = slideContent.querySelectorAll('script');
    scripts.forEach(script => {
        try {
            const newScript = document.createElement('script');
            if (script.src) {
                newScript.src = script.src;
            } else {
                newScript.textContent = script.textContent;
            }
            script.parentNode.replaceChild(newScript, script);
        } catch (error) {
            console.warn('Error re-executing script:', error);
            // Try alternative approach - evaluate script directly
            try {
                eval(script.textContent);
            } catch (evalError) {
                console.error('Failed to execute script:', evalError);
            }
        }
    });
    
    currentSlide = index;
}

function nextSlide() {
    if (currentSlide < slidesData.length - 1) {
        currentSlide++;
        showSlide(currentSlide);
    }
}

function previousSlide() {
    if (currentSlide > 0) {
        currentSlide--;
        showSlide(currentSlide);
    }
}

function goToSlide(index) {
    if (index >= 0 && index < slidesData.length) {
        currentSlide = index;
        showSlide(currentSlide);
    }
}

// Keyboard navigation
document.addEventListener('keydown', function(event) {
    if (event.key === 'ArrowRight' || event.key === ' ') {
        event.preventDefault();
        nextSlide();
    } else if (event.key === 'ArrowLeft') {
        event.preventDefault();
        previousSlide();
    } else if (event.key >= '1' && event.key <= '9') {
        const slideNum = parseInt(event.key) - 1;
        if (slideNum < slidesData.length) {
            goToSlide(slideNum);
        }
    } else if (event.key === 'Home') {
        goToSlide(0);
    } else if (event.key === 'End') {
        goToSlide(slidesData.length - 1);
    }
});

// Initialize on first load
document.addEventListener('DOMContentLoaded', function() {
    showSlide(0);
});

    </script>
</body>
</html>
